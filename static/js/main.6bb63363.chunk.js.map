{"version":3,"sources":["data/state_M2019_dl.csv","data/bea_real_personal_income_2018.csv","utils/dataUtils.js","hooks/useData.js","hooks/useFilters.js","params/params.js","Components/nav/AppButton.js","Components/nav/Footer.js","Components/nav/Navbar.js","Components/nav/SideDrawer.js","Components/selectors/Filter.js","Components/selectors/FilterInterface.js","Components/selectors/Parameter.js","Components/selectors/ParameterInterface.js","context/SelectContext.js","Components/selectors/Selections.js","Components/chart/Bars.js","Components/selectors/AxisSlider.js","Components/chart/ChartTemplate.js","Components/chart/Labels.js","appCPI/ChartCPI.js","Components/layouts/About.js","appCPI/AboutCPI.js","appCPI/AppCPI.js","params/PARAMS_HEATMAP.js","appBLS/HeatmapBLS.js","appBLS/ChartBLS.js","Components/controls/ChartControl.js","Components/controls/ChartControlRadio.js","Components/controls/ChartControlSelector.js","appBLS/AboutBLS.js","appBLS/AppBLS.js","appRPI/ChartRPI.js","appRPI/AppRPI.js","pages/Home.js","styles/theme.js","App.js","serviceWorker.js","index.js","data/bea_regional_price_parities_2018.csv"],"names":["module","exports","cleanData","data","cols","Object","keys","revData","forEach","d","i","row","col","isFinite","parseFloat","push","useData","useState","clean","setClean","useEffect","split","pop","Error","d3","then","res","useFilters","filters","selection","setSelection","handleSelectionChange","filterList","finalSelection","currSelection","newFilter","type","newSelection","stateInfo","state","refLabel","selectedFilter","name","filterCategories","filtered","sort","a","b","slice","n","filterValues","length","filter","s","includes","params","chart","id","title","subtitle","x","dataType","scale","label","axis","param","paramFields","options","y","z","color","governor","region","margin","top","bottom","left","right","appRPP","useStyles","makeStyles","theme","button","position","minHeight","minWidth","borderRadius","backgroundColor","palette","primary","main","overlay","opacity","transition","content","AppButton","props","className","href","classes","defaultClasses","ButtonBase","focusRipple","clsx","children","defaultProps","toolbar","secondary","light","width","paddingLeft","spacing","paddingRight","display","justifyContent","background","boxShadow","dark","zIndex","navLinkContainer","navLinkMenu","navLinkIcon","marginLeft","fontSize","Navbar","handleDrawer","open","setOpen","anchorRef","useRef","handleNavMenu","e","Toolbar","disableGutters","Hidden","smDown","Button","navButtons","mdUp","IconButton","aria-label","edge","onClick","ref","Popper","anchorEl","current","disablePortal","Paper","ClickAwayListener","onClickAway","MenuList","MenuItem","component","Link","to","drawer","drawerPaper","drawerWidth","padding","mobileDrawer","SideDrawer","mobileOpen","Drawer","variant","onClose","paper","ModalProps","keepMounted","Filter","handleFilter","filterSettings","FormControl","style","InputLabel","Select","labelId","onChange","map","option","key","value","drawerSection","sectionTitle","paddingTop","fontWeight","chip","FilterInterface","setFilters","setFilterSettings","prevState","target","Typography","TextField","defaultValue","InputProps","inputProps","min","max","newNumber","handleFilterSettings","Chip","onDelete","f","Parameter","chartParams","handleParameter","field","ParameterInterface","setChartParams","paramAxis","SelectContext","React","createContext","deselectButton","Selections","useContext","selected","setSelected","handleSelectionCheckbox","FormLabel","FormGroup","FormControlLabel","control","Checkbox","checked","Divider","slider","bar","fill","cursor","barSelected","stroke","text","Bars","dimensions","scales","xScale","yScale","height","colorScale","barsRef","selectAll","join","attr","bandwidth","call","append","on","chartContainer","boundsContainer","ChartTemplate","svgRef","boundsRef","xRef","yRef","xAxisGenerator","yAxisGenerator","viewBox","transform","root","xLabel","yLabel","Labels","innerProps","labels","textAnchor","defaultDimensions","window","innerWidth","innerHeight","rootContainer","ChartCPI","setScales","domain","range","Grid","maxWidth","flexFlow","textAlign","marginBottom","lineHeight","marginTop","textIndent","divider","About","AboutCPI","rootDiv","sideDrawer","AppCPI","dataRaw","dataCPI","setData","setMobileOpen","operator","filteredSelection","revDataRaw","standardName","stateStandardized","standardizeStateName","State","Provider","drawerWdith","container","PARAMS_HEATMAP","CHART","description","PAGE","about","list","REFERENCE","occupationAbbreviations","and","Administrative","Building","Business","Cleaning","Educational","Entertainment","Financial","Maintenance","Mathematical","Physical","Preparation","Related","Technical","Transportation","FILTER_LIST","heatmapSquare","strokeWidth","squaretext","heatmapSquareSelected","tooltip","border","pointerEvents","HeatmapBLS","getColorScale","heatmapRef","squares","occ_code","area","rect","Math","round","toLocaleString","selectColumn","selectRow","stateKeys","pivoted","pivotData","axisSelected","ChartBLS","wrapperRef","condenseYLabel","revLabel","long","replace","statesPerOccupation","nested","nest","occ_title","entries","occ","valuesEachState","values","scaleBand","reverse","occupation","scaleSequential","interpolateRdYlGn","axisBottom","axisLeft","select","createScales","chartControlWrapper","ChartControl","radioGroup","ChartControlRadio","ariaLabel","parameter","RadioGroup","handleSelect","Radio","deselectAllButton","ChartControlSelector","aboutParams","AboutBLS","sec","item","breakpoints","up","AppBLS","dataBLS","dataNoTerritories","area_title","dataMajorOccupations","o_group","cleanRPPData","GeoFips","GeoName","LineCode","Description","transformData","dataRPP","rpp","majorOcc","revisedData","stateName","realSalary","a_median","stateRPP","mounted","ChartRPI","AppRPI","dataRealPersonalIncome","dataOnlyPerCapita","rootSection","header","cardContainer","card","darkPalette","contrastText","default","createMuiTheme","typography","fontFamily","overrides","MuiMenu","MuiButton","MuiIconButton","rootGrid","App","ThemeProvider","CssBaseline","Container","exact","path","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.6bb63363.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/state_M2019_dl.e8b735dc.csv\";","module.exports = __webpack_public_path__ + \"static/media/bea_real_personal_income_2018.e97877bb.csv\";","import React, { useState, useEffect } from 'react';\r\nimport * as d3 from \"d3\";\r\n\r\n// reference\r\nimport stateStandardized from \"../params/stateStandardized.json\";\r\n\r\nconst readCSV = async (csv) => {\r\n\tconst res = await d3.csv(csv);\r\n\treturn res;\r\n};\r\n\r\nconst cleanData = (data) => {\r\n\tconst cols = Object.keys(data[0]);\r\n\tlet revData = [];\r\n\tdata.forEach((d,i) => {\r\n\t\tlet row = {};\r\n\t\tcols.forEach(col => {\r\n\t\t\trow[col] = isFinite(parseFloat(d[col])) ? parseFloat(d[col]) : d[col]\r\n\t\t});\r\n\t\trevData.push(row);\r\n\t});\r\n\treturn revData;\r\n};\r\n\r\nconst standardizeStateName = (state) => {\r\n\tlet newStateName;\r\n\tif (Object.keys(stateStandardized).includes(state)) {\r\n\t\tnewStateName = stateStandardized[state].name;\r\n\t} else {\r\n\t\tthrow new Error(\"Could not find state name\");\r\n\t}\r\n\treturn newStateName;\r\n};\r\n\r\nconst joinData = () => {\r\n\treturn null;\r\n};\r\n\r\nconst pivotData = (data,col) => {\r\n\tlet pivoted = {};\r\n\tdata.forEach(d => {\r\n\t\tif (!pivoted[d[col]]) {\r\n\t\t\tpivoted[d[col]] = [d];\r\n\t\t} else {\r\n\t\t\tpivoted[d[col]].push(d);\r\n\t\t}\r\n\t});\r\n\treturn pivoted;\r\n};\r\n\r\nexport { readCSV, cleanData, joinData, standardizeStateName, pivotData };","import { useState, useEffect } from 'react';\r\nimport * as d3 from \"d3\";\r\n\r\n// utils\r\nimport { cleanData } from \"../utils/dataUtils\";\r\n\r\nconst useData = (data) => {\r\n\tconst [clean, setClean] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (typeof data === \"object\") {\r\n\t\t\tsetClean(cleanData(data));\r\n\t\t} else if (data.split(\".\").pop() === \"csv\") {\r\n\t\t\td3.csv(data)\r\n\t\t\t\t.then(res => setClean(cleanData(res)));\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Unknown file type.\");\r\n\t\t}\r\n\t}, [data]);\r\n\t\r\n\treturn clean;\r\n};\r\n\r\nexport { useData };","import React, { useState, useEffect } from \"react\";\r\n\r\nimport stateInfo from \"../params/stateInfo.json\";\r\n\r\nconst useFilters = (filters) => {\r\n\tconst [selection, setSelection] = useState([]);\r\n\r\n\tconst filterCategories = newFilter => {\r\n\t\tlet newSelection = [];\r\n\r\n\t\tstateInfo.forEach(state => {\t\r\n\t\t\tif (state[newFilter.refLabel] === newFilter.selectedFilter) {\r\n\t\t\t\tnewSelection.push(state.name);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn newSelection;\r\n\t};\r\n\r\n\tconst filterValues = newFilter => {\r\n\t\tlet newSelection = [];\r\n\t\tlet filtered;\r\n\r\n\t\tif (newFilter.selectedFilter === \"Top\") {\r\n\t\t\tfiltered = stateInfo\r\n\t\t\t\t.sort((a,b) => b[newFilter.refLabel] - a[newFilter.refLabel])\r\n\t\t\t\t.slice(0, newFilter.n);\r\n\t\t} else if (newFilter.selectedFilter === \"Bottom\") {\r\n\t\t\tfiltered = stateInfo\r\n\t\t\t\t.sort((a,b) => a[newFilter.refLabel] - b[newFilter.refLabel])\r\n\t\t\t\t.slice(0, newFilter.n);\r\n\t\t} else {\r\n\t\t\tthrow \"Invalid filter selection!\";\r\n\t\t}\r\n\r\n\t\tfiltered.forEach(state => newSelection.push(state.name));\r\n\t\treturn newSelection;\r\n\t};\r\n\r\n\tconst handleSelectionChange = filterList => {\r\n\t\tlet finalSelection = [];\r\n\t\tlet currSelection = [];\r\n\r\n\t\tfilterList.forEach(newFilter => {\r\n\t\t\tcurrSelection = newFilter.type === \"categorical\" \r\n\t\t\t\t? filterCategories(newFilter)\r\n\t\t\t\t: filterValues(newFilter);\r\n\t\t\t\r\n\t\t\tfinalSelection = finalSelection.length < 1 \r\n\t\t\t\t? currSelection \r\n\t\t\t\t: currSelection.filter(s => finalSelection.includes(s));\r\n\t\t});\r\n\r\n\t\treturn finalSelection;\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (filters.length < 1) {\r\n\t\t\treturn setSelection([]);\r\n\t\t}\r\n\t\tsetSelection(handleSelectionChange(filters));\r\n\t}, [filters]);\r\n\t\r\n\treturn selection;\r\n};\r\n\r\nexport { useFilters };","const params = {\r\n    pageParams: {\r\n        maxWidth: 1200,\r\n    },\r\n    appCPI: {\r\n        chart: {\r\n            id: \"\",\r\n\t\t\ttitle: \"Consumer Price Index\",\r\n\t\t\tsubtitle: \"Data from the World Population Review\",\r\n            x: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\tdataType: \"nominal\",\r\n\t\t\t\tscale: \"band\",\r\n                label: \"State\",\r\n\t\t\t\taxis: \"x-axis\",\r\n\t\t\t\tparam: \"State\",\r\n\t\t\t\tparamFields: [\"State\"],\r\n                options: [\"State\"],\r\n            },\r\n            y: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\tdataType: \"continuous\",\r\n\t\t\t\tscale: \"linear\",\r\n                label: \"Cost Index\",\r\n\t\t\t\taxis: \"y-axis\",\r\n\t\t\t\tparam: \"costIndex\",\r\n\t\t\t\tparamFields: [\r\n\t\t\t\t\t\"costIndex\",\r\n\t\t\t\t\t\"groceryCost\",\r\n\t\t\t\t\t\"housingCost\",\r\n\t\t\t\t\t\"miscCost\",\r\n\t\t\t\t\t\"transportationCost\",\r\n\t\t\t\t\t\"utilitiesCost\",\r\n\t\t\t\t],\r\n            },\r\n            z: {\r\n                id: \"\",\r\n                label: \"\",\r\n\t\t\t\taxis: \"z-axis\",\r\n\t\t\t\tparam: \"\",\r\n\t\t\t\toptions: [],\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\tscale: \"color\",\r\n\t\t\t\tlabel: \"Color category\",\r\n\t\t\t\taxis: \"color-axis\",\r\n\t\t\t\tparam: \"region\",\r\n\t\t\t\tparamFields: {\r\n\t\t\t\t\tgovernor: [\"Democrat\", \"Republican\"],\r\n\t\t\t\t\tregion: [\"Northeast\", \"Midwest\", \"South\", \"West\"]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmargin: {\r\n\t\t\t\ttop: 20,\r\n\t\t\t\tbottom: 160,\r\n\t\t\t\tleft: 100,\r\n\t\t\t\tright: 40,\r\n\t\t\t}\r\n\t\t},\r\n\t\tfilterList: [\r\n\t\t\t{id: \"filter-gov\", refLabel: \"governor\", label: \"Gov. Party\", options: [\"Democrat\", \"Republican\"], type: \"categorical\"},\r\n\t\t\t{id: \"filter-region\", refLabel: \"region\", label: \"Region\", options: [\"Northeast\", \"Midwest\", \"South\", \"West\"], type: \"categorical\"},\r\n\t\t\t{id: \"filter-population-total\", refLabel: \"population\", label: \"Population (total)\", options: [\"Top\", \"Bottom\"], type: \"numerical\"},\r\n\t\t\t{id: \"filter-population-density\", refLabel: \"populationDensity\", label: \"Population (density)\", options: [\"Top\", \"Bottom\"], type: \"numerical\"},\r\n\t\t\t{id: \"filter-gdp\", refLabel: \"gdp\", label: \"GDP\", options: [\"Top\", \"Bottom\"], type: \"numerical\"},\r\n\t\t],\r\n\t},\r\n\tappBLS: {\r\n        chart: {\r\n            id: \"\",\r\n\t\t\ttitle: \"Wage comparison US states\",\r\n\t\t\tsubtitle: \"Data from the U.S. Bureau of Labor Statistics\",\r\n\t\t\tx: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\tdataType: \"nominal\",\r\n\t\t\t\tscale: \"band\",\r\n\t\t\t\tlabel: \"State\",\r\n\t\t\t\taxis: \"x-axis\",\r\n\t\t\t\tparam: \"area_title\",\r\n\t\t\t\tparamFields: [\r\n\t\t\t\t],\r\n\t\t\t},\r\n            y: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\tdataType: \"nominal\",\r\n\t\t\t\tscale: \"band\",\r\n                label: \"Occupation\",\r\n\t\t\t\taxis: \"y-axis\",\r\n\t\t\t\tparam: \"occ_title\",\r\n\t\t\t\tparamFields: [\"occ_title\"],\r\n            },\r\n            z: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\tscale: \"\",\r\n                label: \"\",\r\n\t\t\t\taxis: \"z-axis\",\r\n\t\t\t\tparam: \"\",\r\n\t\t\t\tparamFields: [],\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\tscale: \"color\",\r\n\t\t\t\tlabel: \"Color category\",\r\n\t\t\t\taxis: \"color-axis\",\r\n\t\t\t\tparam: \"a_median\",\r\n\t\t\t\tselected: \"a_median\",\r\n\t\t\t\tparamFields: [\r\n\t\t\t\t\t{label: \"Median salary (nominal)\", value: \"a_median\"},\r\n\t\t\t\t\t{label: \"Median salary (real)\", value: \"RPP_a_median\"}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tmargin: {\r\n\t\t\t\ttop: 100,\r\n\t\t\t\tbottom: 180,\r\n\t\t\t\tleft: 340,\r\n\t\t\t\tright: 80,\r\n\t\t\t}\r\n\t\t},\r\n\t\tREFERENCE: {\r\n\t\t\toccupationAbbrevations: {\r\n\t\t\t\tadministrative: \"admin\",\r\n\t\t\t\tbusiness: \"bus.\",\r\n\t\t\t\tentertainment: \"ent.\",\r\n\t\t\t\tfinancial: \"fin.\",\r\n\t\t\t\tmaintenance: \"maint.\",\r\n\t\t\t}\r\n\t\t},\r\n\t\tfilterList: [\r\n\t\t\t{id: \"filter-gov\", refLabel: \"governor\", label: \"Gov. Party\", options: [\"Democrat\", \"Republican\"], type: \"categorical\"},\r\n\t\t\t{id: \"filter-region\", refLabel: \"region\", label: \"Region\", options: [\"Northeast\", \"Midwest\", \"South\", \"West\"], type: \"categorical\"},\r\n\t\t\t{id: \"filter-population-total\", refLabel: \"population\", label: \"Population (total)\", options: [\"Top\", \"Bottom\"], type: \"numerical\"},\r\n\t\t\t{id: \"filter-population-density\", refLabel: \"populationDensity\", label: \"Population (density)\", options: [\"Top\", \"Bottom\"], type: \"numerical\"},\r\n\t\t\t{id: \"filter-gdp\", refLabel: \"gdp\", label: \"GDP\", options: [\"Top\", \"Bottom\"], type: \"numerical\"},\r\n\t\t],\r\n\t},\r\n\tappRPI: {\r\n        chart: {\r\n            id: \"\",\r\n\t\t\ttitle: \"Real Per Capita Income US states\",\r\n\t\t\tsubtitle: \"Data from the U.S. Bureau of Economic Analysis\",\r\n            x: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\tdataType: \"nominal\",\r\n\t\t\t\tscale: \"band\",\r\n                label: \"State\",\r\n\t\t\t\taxis: \"x-axis\",\r\n\t\t\t\tparam: \"GeoName\",\r\n\t\t\t\tparamFields: [\"GeoName\"],\r\n            },\r\n            y: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\tdataType: \"continuous\",\r\n\t\t\t\tscale: \"linear\",\r\n                label: \"Real Personal Income\",\r\n\t\t\t\taxis: \"y-axis\",\r\n\t\t\t\tparam: \"2018\",\r\n\t\t\t\tparamFields: [\"2018\"],\r\n            },\r\n            z: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\tscale: \"\",\r\n                label: \"\",\r\n\t\t\t\taxis: \"z-axis\",\r\n\t\t\t\tparam: \"\",\r\n\t\t\t\tparamFields: [],\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\tscale: \"color\",\r\n\t\t\t\tlabel: \"Color category\",\r\n\t\t\t\taxis: \"color-axis\",\r\n\t\t\t\tparam: \"\",\r\n\t\t\t\tparamFields: {\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmargin: {\r\n\t\t\t\ttop: 20,\r\n\t\t\t\tbottom: 180,\r\n\t\t\t\tleft: 100,\r\n\t\t\t\tright: 20,\r\n\t\t\t}\r\n\t\t},\r\n\t\tappRPP: {\r\n\t\t\tchart: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\ttitle: \"Regional Price Parity US states\",\r\n\t\t\t\tsubtitle: \"Data from the U.S. Bureau of Economic Analysis (2018)\",\r\n\t\t\t\tx: {\r\n\t\t\t\t\tid: \"\",\r\n\t\t\t\t\tdataType: \"nominal\",\r\n\t\t\t\t\tscale: \"band\",\r\n\t\t\t\t\tlabel: \"State\",\r\n\t\t\t\t\taxis: \"x-axis\",\r\n\t\t\t\t\tparam: \"GeoName\",\r\n\t\t\t\t\tparamFields: [\"GeoName\"],\r\n\t\t\t\t},\r\n\t\t\t\ty: {\r\n\t\t\t\t\tid: \"\",\r\n\t\t\t\t\tdataType: \"continuous\",\r\n\t\t\t\t\tscale: \"linear\",\r\n\t\t\t\t\tlabel: \"Real Personal Income\",\r\n\t\t\t\t\taxis: \"y-axis\",\r\n\t\t\t\t\tparam: \"2018\",\r\n\t\t\t\t\tparamFields: [\"2018\"],\r\n\t\t\t\t},\r\n\t\t\t\tz: {\r\n\t\t\t\t\tid: \"\",\r\n\t\t\t\t\tscale: \"\",\r\n\t\t\t\t\tlabel: \"\",\r\n\t\t\t\t\taxis: \"z-axis\",\r\n\t\t\t\t\tparam: \"\",\r\n\t\t\t\t\tparamFields: [],\r\n\t\t\t\t},\r\n\t\t\t\tcolor: {\r\n\t\t\t\t\tid: \"\",\r\n\t\t\t\t\tscale: \"color\",\r\n\t\t\t\t\tlabel: \"Color category\",\r\n\t\t\t\t\taxis: \"color-axis\",\r\n\t\t\t\t\tparam: \"\",\r\n\t\t\t\t\tparamFields: {\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tmargin: {\r\n\t\t\t\t\ttop: 20,\r\n\t\t\t\t\tbottom: 180,\r\n\t\t\t\t\tleft: 100,\r\n\t\t\t\t\tright: 20,\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport { params };\r\n","import React from 'react';\r\nimport clsx from \"clsx\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// styles \r\nimport { ButtonBase, Grid, Card, CardContent, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tbutton: {\r\n\t\tposition: \"relative\",\r\n\t\tminHeight: 275,\r\n\t\tminWidth: 275,\r\n\t\tborderRadius: 3,\r\n\t\tbackgroundColor: theme.palette.primary.main\r\n\t},\r\n\toverlay: {\r\n\t\tposition: \"absolute\",\r\n\t\ttop: 0,\r\n\t\tbottom: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\tbackgroundColor: \"#000\",\r\n\t\topacity: 0,\r\n\t\ttransition: \"all .35s\",\r\n\t\t\"&:hover\": {\r\n\t\t\topacity: 0.2,\r\n\t\t},\r\n\t},\r\n\tcontent: {\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"30%\",\r\n\t\tleft: \"20%\",\r\n\t\tright: \"20%\",\r\n\t},\r\n}));\r\n\r\nconst AppButton = (props) => {\r\n\tconst { className, href, classes } = props;\r\n\tconst defaultClasses = useStyles();\r\n\r\n\treturn (\r\n\t\t<ButtonBase\r\n\t\t\tfocusRipple \r\n\t\t\tclassName={clsx(defaultClasses.button, className)} href={href}>\r\n\t\t\t<div className={clsx(defaultClasses.content, classes.content)}>\r\n\t\t\t\t{props.children}\r\n\t\t\t</div>\r\n\t\t\t<div className={clsx(defaultClasses.overlay, classes.overlay)} />\r\n\t\t</ButtonBase>\r\n\t)\r\n}\r\n\r\nexport { AppButton };\r\n\r\nAppButton.propTypes = {\r\n\tclassName: PropTypes.object,\r\n\tclasses: PropTypes.object,\r\n\thref: PropTypes.string \r\n};\r\n\r\nAppButton.defaultProps = {\r\n\tclasses: {\r\n\t\tbutton: {},\r\n\t\toverlay: {},\r\n\t\tcontent: {}\r\n\t}\r\n};","import React from 'react';\r\n\r\n// styles\r\nimport { Toolbar } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\ttoolbar: {\r\n\t\tbackgroundColor: theme.palette.secondary.light,\r\n\t}\r\n}))\r\n\r\nconst Footer = (props) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t<h5>Footer</h5>\r\n\t\t\t{props.children}\r\n\t\t</Toolbar>\r\n\t)\r\n};\r\n\r\nexport { Footer };\r\n","import React, {useState, useRef} from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// styles\r\nimport { Toolbar, Button, IconButton, Hidden, Menu, MenuList, MenuItem, Popper, ClickAwayListener, Paper } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MenuOutlined from \"@material-ui/icons/MenuOutlined\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\ttoolbar: {\r\n\t\tposition: \"fixed\",\r\n\t\twidth: \"100%\",\r\n\t\tright: 0,\r\n\t\tleft: \"auto\",\r\n\t\tpaddingLeft: theme.spacing(4),\r\n\t\tpaddingRight: theme.spacing(4),\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t\tbackgroundColor: theme.palette.background.light,\r\n\t\tboxShadow: `4px 4px 12px 0 ${theme.palette.background.dark}`,\r\n\t\tzIndex: 1100\r\n\t},\t\r\n\tnavLinkContainer: {\r\n\t\twidth: 400,\r\n\t\t// marginLeft: \"auto\",\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t},\r\n\tnavLinkMenu: {\r\n\t\tdisplay: \"block\"\r\n\t},\r\n\tnavLinkIcon: {\r\n\t\tmarginLeft: \"auto\",\r\n\t\tfontSize: \"2rem\",\r\n\t},\r\n}))\r\n\r\nconst Navbar = (props) => {\r\n\tconst { handleDrawer } = props;\r\n\tconst [anchorEl, setAnchorEl] = useState(null);\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst anchorRef = useRef(null);\r\n\tconst classes = useStyles();\r\n\r\n\tconst handleNavMenu = (e) => {\r\n\t\t// !anchorEl ? setAnchorEl(e.currentTarget) : setAnchorEl(null);\r\n\t\tsetOpen(!open);\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<Toolbar className={classes.toolbar} disableGutters>\r\n\t\t\t\t{props.children}\r\n\t\t\t\t{/* <IconButton \r\n\t\t\t\t\taria-label=\"open drawer\"\r\n\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\tonClick={handleDrawer}\r\n\t\t\t\t>\r\n\t\t\t\t\t<MenuOutlined />\t\r\n\t\t\t\t</IconButton> */}\r\n\t\t\t\t<Hidden smDown>\r\n\t\t\t\t\t<nav className={classes.navLinkContainer}>\r\n\t\t\t\t\t\t<Button href=\"/rpi-app\" className={classes.navButtons}>Real Income</Button>\r\n\t\t\t\t\t\t<Button href=\"/bls-app\" className={classes.navButtons}>Salary Comparison</Button>\r\n\t\t\t\t\t\t<Button href=\"/\" className={classes.navButtons}>Home</Button>\r\n\t\t\t\t\t</nav>\r\n\t\t\t\t</Hidden>\r\n\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\taria-label=\"main menu\"\r\n\t\t\t\t\t\tedge=\"end\"\r\n\t\t\t\t\t\tonClick={handleNavMenu}\r\n\t\t\t\t\t\tref={anchorRef}\r\n\t\t\t\t\t\tclassName={classes.navLinkIcon}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuOutlined />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Hidden>\r\n\t\t\t\t<Popper\r\n\t\t\t\t\tanchorEl={anchorRef.current}\r\n\t\t\t\t\ttransition\r\n\t\t\t\t\tdisablePortal\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Paper>\r\n\t\t\t\t\t\t<ClickAwayListener onClickAway={handleNavMenu}>\r\n\t\t\t\t\t\t\t<MenuList className={classes.navLinkMenu}>\r\n\t\t\t\t\t\t\t\t<MenuItem component={Link} to=\"/rpi-app\">Real Income</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem component={Link} to=\"/bls-app\">Salary Comparison</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem component={Link} to=\"/\">Home</MenuItem>\r\n\t\t\t\t\t\t\t</MenuList>\r\n\t\t\t\t\t\t</ClickAwayListener>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</Popper>\r\n\t\t\t</Toolbar>\r\n\t\t\t<Toolbar />\r\n\t\t</header>\r\n\t)\r\n};\r\n\r\nexport { Navbar };\r\n\r\nNavbar.propTypes = {\r\n\thandleDrawer: PropTypes.func\r\n};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// styles\r\nimport { Drawer, Hidden } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\t\r\n\tdrawer: {\r\n\t},\r\n\tdrawerPaper: {\r\n\t\twidth: props => props.drawerWidth,\r\n\t\tbackgroundColor: theme.palette.background.light,\r\n\t\tpadding: theme.spacing(2),\r\n\t},\r\n\tmobileDrawer: {\r\n\t}\r\n}))\r\n\r\nconst SideDrawer = (props) => {\r\n\tconst { mobileOpen, handleDrawer, drawerWidth } = props;\r\n\r\n\tconst classes = useStyles(props);\r\n\r\n\treturn (\r\n\t\t<nav aria-label=\"chart parameters\">\r\n\t\t\t{/* <Hidden lgUp> */}\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant=\"temporary\"\r\n\t\t\t\t\topen={mobileOpen}\r\n\t\t\t\t\tonClose={handleDrawer}\r\n\t\t\t\t\tclassName={classes.mobileDrawer}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tModalProps={{keepMounted: true}}\r\n\t\t\t\t>\t\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t</Drawer>\r\n\t\t\t{/* </Hidden> */}\r\n\t\t\t{/* <Hidden mdDown>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant=\"permanent\" \r\n\t\t\t\t\topen\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden> */}\r\n\t\t</nav>\r\n\t)\r\n};\r\n\r\nexport { SideDrawer }\r\n\r\nSideDrawer.propTypes = { \r\n\tmobileOpen: PropTypes.bool.isRequired, \r\n\thandleDrawer: PropTypes.func.isRequired,\r\n\tdrawerWidth: PropTypes.number, \r\n};\r\n\r\nSideDrawer.defaultProps = {\r\n\tdrawerWidth: 240,\r\n};","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\n\r\n// styles\r\nimport { Select, MenuItem, FormControl, InputLabel } from \"@material-ui/core\";\r\n\r\nconst Filter = (props) => {\r\n\tconst { filter, handleFilter, filterSettings } = props; \r\n\tconst { id, refLabel, label, type, options } = filter;\r\n\r\n\treturn (\r\n\t\t<FormControl style={{width: \"100%\"}}>\r\n\t\t\t<InputLabel id={id}>{label}</InputLabel>\r\n\t\t\t<Select\r\n\t\t\t\tlabelId={id}\r\n\t\t\t\tname={refLabel}\r\n\t\t\t\tonChange={(e) => handleFilter(e)}\r\n\t\t\t>\r\n\t\t\t\t{options.map(option => (\r\n\t\t\t\t\t<MenuItem \r\n\t\t\t\t\t\tkey={option}\r\n\t\t\t\t\t\tvalue={option}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{type === \"categorical\" \r\n\t\t\t\t\t\t\t? option\r\n\t\t\t\t\t\t\t: `${option} ${filterSettings.n}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t))}\r\n\t\t\t</Select>\r\n\t\t</FormControl>\r\n\t)\r\n};\r\n\r\nexport { Filter };\r\n\r\nFilter.propTypes = {\r\n\tfilter: PropTypes.object.isRequired,\r\n\thandleFilter: PropTypes.func.isRequired, \r\n\tfilterSettings: PropTypes.object\r\n}","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\n\r\n// components\r\nimport { Filter } from \"./Filter\";\r\n\r\n// styles\r\nimport { TextField, Typography, Chip } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tdrawerSection: {},\r\n\tsectionTitle: {\r\n\t\tpaddingTop: theme.spacing(4),\r\n\t\tfontWeight: 700,\r\n\t\tfontSize: \"1.5rem\",\r\n\t},\r\n\tchip: {\r\n\t\tmargin: theme.spacing(0.5)\r\n\t}\r\n}));\r\n\r\nconst FilterInterface = (props) => {\r\n\tconst { \r\n\t\tfilterList, \r\n\t\tfilters, \r\n\t\tsetFilters, \r\n\t\tfilterSettings, \r\n\t\tsetFilterSettings,\r\n\t} = props;\r\n\r\n\tconst classes = useStyles(props);\r\n\r\n\tconst handleFilterSettings = (e) => {\r\n\t\tconst newNumber = e.target.value;\r\n\t\tsetFilterSettings(prevState => ({\r\n\t\t\t...prevState,\r\n\t\t\tn: newNumber\r\n\t\t}))\r\n\t};\r\n\r\n\tconst handleFilter = (e) => {\r\n\t\tsetFilters(prevState => [\r\n\t\t\t...prevState, \r\n\t\t\t{\r\n\t\t\t\tid: e.target.labelId,\r\n\t\t\t\trefLabel: e.target.name,\r\n\t\t\t\tselectedFilter: e.target.value,\r\n\t\t\t\ttype: e.target.name === \"governor\" || e.target.name === \"region\" \r\n\t\t\t\t\t? \"categorical\"\r\n\t\t\t\t\t: \"numerical\",\r\n\t\t\t\tn: filterSettings.n\r\n\t\t\t}\r\n\t\t]);\r\n\t};\r\n\r\n\tconst handleDeleteChip = (chip) => {\r\n\t\tsetFilters(prevState => prevState.filter(f => f !== chip));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Typography className={classes.sectionTitle}>Filters</Typography>\r\n\t\t\t<div className={classes.drawerSection}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tlabel=\"Num. to filter\"\r\n\t\t\t\t\tdefaultValue={filterSettings.n}\r\n\t\t\t\t\tstyle={{width: \"100%\"}}\r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tinputProps: {\r\n\t\t\t\t\t\t\tmin: 1,\r\n\t\t\t\t\t\t\tmax: 50,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={(e) => handleFilterSettings(e)} \r\n\t\t\t\t/>\r\n\t\t\t\t{filterList.map(filter => (\r\n\t\t\t\t\t<Filter \r\n\t\t\t\t\t\tkey={filter.id}\r\n\t\t\t\t\t\tfilter={filter}\r\n\t\t\t\t\t\thandleFilter={handleFilter}\r\n\t\t\t\t\t\tfilterSettings={filterSettings}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t<Typography className={classes.sectionTitle}>Active Filters</Typography>\r\n\t\t\t<div className={classes.drawerSection}>\r\n\t\t\t\t{filters.length > 0\r\n\t\t\t\t\t? filters.map((filter,i) => (\r\n\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\tkey={filter.refLabel}\r\n\t\t\t\t\t\t\tname={i}\r\n\t\t\t\t\t\t\tlabel={filter.type === \"categorical\" \r\n\t\t\t\t\t\t\t\t? filter.selectedFilter\r\n\t\t\t\t\t\t\t\t: `${filter.refLabel} ${filter.selectedFilter} ${filter.n}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tonDelete={() => handleDeleteChip(filter)}\r\n\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))\r\n\t\t\t\t\t: <Typography>No active filters</Typography>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t</>\r\n\t)\r\n};\r\n\r\nexport { FilterInterface };\r\n\r\nFilterInterface.propTypes = { \r\n\tfilterList: PropTypes.arrayOf(PropTypes.object).isRequired, \r\n\tfilters: PropTypes.arrayOf(PropTypes.object).isRequired, \r\n\tsetFilters: PropTypes.func.isRequired, \r\n\tfilterSettings: PropTypes.object.isRequired, \r\n\tsetFilterSettings: PropTypes.func.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\n\r\n// styles\r\nimport { FormControl, InputLabel, Select, MenuItem } from \"@material-ui/core\";\r\n\r\nconst Parameter = (props) => {\r\n\tconst { axis, chartParams, handleParameter } = props;\r\n\tconst { id, label, paramFields } = chartParams[axis];\r\n\r\n\treturn (\r\n\t\t<FormControl style={{width: \"100%\"}}>\r\n\t\t\t<InputLabel id={id}>{label}</InputLabel>\r\n\t\t\t<Select\r\n\t\t\t\tlabelId={id}\r\n\t\t\t\tname={axis}\r\n\t\t\t\tdefaultValue={paramFields[0]}\r\n\t\t\t\tvalue={chartParams[axis].param}\r\n\t\t\t\tonChange={(e) => handleParameter(e)}\r\n\t\t\t>\r\n\t\t\t\t{paramFields.map(field => (\r\n\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\tkey={field}\r\n\t\t\t\t\t\tvalue={field}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{field}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t))}\r\n\t\t\t</Select>\r\n\t\t</FormControl>\r\n\t)\r\n};\r\n\r\nexport { Parameter };\r\n\r\nParameter.propTypes = {\r\n\taxis: PropTypes.string.isRequired,\r\n\tchartParams: PropTypes.object.isRequired,\r\n\thandleParameter: PropTypes.func.isRequired\r\n}","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\n\r\n// components\r\nimport { Parameter } from \"./Parameter\";\r\n\r\n// styles\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tdrawerSection: {},\r\n\tsectionTitle: {\r\n\t\tpaddingTop: theme.spacing(4),\r\n\t\tfontWeight: 700,\r\n\t\tfontSize: \"1.5rem\",\r\n\t},\r\n}));\r\n\r\nconst ParameterInterface = (props) => {\r\n\tconst { axis, chartParams, setChartParams } = props;\r\n\tconst paramAxis = chartParams[axis];\r\n\r\n\tconst classes = useStyles(props);\r\n\r\n\tconst handleParameter = (e) => {\r\n\t\tsetChartParams(prevState => ({\r\n\t\t\t...prevState,\r\n\t\t\t[e.target.name]: {\r\n\t\t\t\t...prevState[e.target.name],\r\n\t\t\t\tparam: e.target.value,\r\n\t\t\t}\r\n\t\t}));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Typography className={classes.sectionTitle}>Parameters</Typography>\r\n\t\t\t<div className={classes.drawerSection}>\r\n\t\t\t\t<Parameter \r\n\t\t\t\t\taxis={axis}\r\n\t\t\t\t\tparamAxis={paramAxis}\r\n\t\t\t\t\tchartParams={chartParams}\r\n\t\t\t\t\thandleParameter={handleParameter}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n};\r\n\r\nexport { ParameterInterface };\r\n\r\nParameterInterface.propTypes = {\r\n\taxis: PropTypes.string.isRequired, \r\n\tchartParams: PropTypes.object.isRequired, \r\n\tsetChartParams: PropTypes.func.isRequired\r\n}","import React from \"react\";\r\n\r\nconst SelectContext = React.createContext();\r\n\r\nexport { SelectContext };","import React, { useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// params\r\nimport stateInfo from \"../../params/stateInfo.json\";\r\n\r\n// context\r\nimport { SelectContext } from \"../../context/SelectContext\";\r\n\r\n// styles\r\nimport { IconButton, Typography, FormControl, FormLabel, FormGroup, FormControlLabel, Checkbox, Divider } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tdrawerSection: {},\r\n\tsectionTitle: {\r\n\t\tpaddingTop: theme.spacing(4),\r\n\t\tfontWeight: 700,\r\n\t\tfontSize: \"1.5rem\",\r\n\t},\r\n\tdeselectButton: {\r\n\t\tcolor: \"red\",\r\n\t},\r\n}));\r\n\r\nconst Selections = (props) => {\r\n\tconst { setFilters } = props;\r\n\tconst { selected, setSelected } = useContext(SelectContext);\r\n\tconst classes = useStyles(props);\r\n\r\n\tconst handleSelectionCheckbox = (state) => {\r\n\t\tif (selected.includes(state)) {\r\n\t\t\tsetSelected(prevState => prevState.filter(s => s !== state));\r\n\t\t} else {\r\n\t\t\tsetSelected(prevState => ([...prevState, state]));\r\n\t\t}\r\n\t};\r\n\r\n    return (\r\n\t\t<>\r\n\t\t\t<Typography className={classes.sectionTitle}>Selections</Typography>\r\n\t\t\t<div className={classes.drawerSection}>\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\taria-label=\"deselect all\"\r\n\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\tonClick={() => setFilters([])}\r\n\t\t\t\t\tclassName={classes.deselectButton}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t<Typography component=\"span\">Deselect All</Typography>\r\n\t\t\t\t<FormControl>\r\n\t\t\t\t\t<FormLabel component=\"legend\">States</FormLabel>\r\n\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t{selected.length > 0 &&\r\n\t\t\t\t\t\t\tselected.sort().map(state => (\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tkey={state}\r\n\t\t\t\t\t\t\t\t\tlabel={state}\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={selected.includes(state)}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleSelectionCheckbox(state)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tname={state}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t{stateInfo.map(state => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t!selected.includes(state.name) && (\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tkey={state.name}\r\n\t\t\t\t\t\t\t\t\t\tlabel={state.name}\r\n\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={selected.includes(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.name\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleSelectionCheckbox(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.name\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={state.name}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t</FormControl>\r\n\t\t\t</div>\r\n\t\t</>\r\n    );\r\n};\r\n\r\nexport { Selections };\r\n\r\nSelections.propTypes = {\r\n\tsetFilters: PropTypes.func.isRequired\r\n};","import React, { useEffect, useRef, useContext } from 'react'\r\nimport * as d3 from \"d3\";\r\nimport clsx from \"clsx\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// context\r\nimport { SelectContext } from \"../../context/SelectContext\";\r\n\r\n// styles\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tbar: {\r\n\t\tfill: theme.palette.secondary.main,\r\n\t\topacity: 0.8,\r\n\t\t\"&:hover\": {\r\n\t\t\tcursor: \"pointer\",\r\n\t\t\topacity: 0.7\r\n\t\t},\r\n\t},\r\n\tbarSelected: {\r\n\t\tfill: theme.palette.primary.main,\r\n\t\topacity: 1,\r\n\t\tstroke: theme.palette.text.primary,\r\n\t},\r\n\tlabel: {}\r\n}));\r\n\r\nconst Bars = (props) => {\r\n\tconst { chartParams, data, dimensions, scales } = props;\r\n\tconst { selected } = useContext(SelectContext);\r\n\tconst { x, y, color } = chartParams;\r\n\tconst { xScale, yScale, colorScale } = scales;\r\n\tconst { width, height } = dimensions;\r\n\r\n\tconst barsRef = useRef(null);\r\n\tconst classes = useStyles(props);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst bars = d3.select(barsRef.current)\r\n\t\t\t.selectAll(\"rect\")\r\n\t\t\t.data(data.sort((a,b) => d3.ascending(a[y.param], b[y.param])), d => d)\r\n\t\t\t.join(\"rect\")\r\n\t\t\t\t.attr(\"width\", xScale.bandwidth())\r\n\t\t\t\t.attr(\"height\", d => height - yScale(d[y.param]))\r\n\t\t\t\t.attr(\"x\", d => xScale(d[x.param]))\r\n\t\t\t\t.attr(\"y\", d => yScale(d[y.param]))\r\n\t\t\t\t.attr(\"id\", d => `bls-bar-${d[x.param]}`)\r\n\t\t\t\t.attr(\"class\", d => selected.includes(d[x.param])\r\n\t\t\t\t\t? clsx(classes.bar, classes.barSelected)\r\n\t\t\t\t\t: classes.bar\r\n\t\t\t\t)\r\n\t\t\t\t.call(bar => bar.append(\"title\")\r\n\t\t\t\t\t.text(d => [\r\n\t\t\t\t\t\td[x.param],\r\n\t\t\t\t\t\td[y.param],\r\n\t\t\t\t\t].join(\"\\n\"))\r\n\t\t\t\t);\r\n\r\n\t\tbars.on(\"click\", bar => {\r\n\t\t\td3.select()\r\n\t\t})\r\n\r\n\r\n\t}, [data, selected, chartParams, scales]);\r\n\r\n\treturn (\r\n\t\t<g ref={barsRef} />\r\n\t)\r\n};\r\n\r\nexport { Bars };\r\n\r\nBars.propTypes = {\r\n\tchartParams: PropTypes.object, \r\n\tdata: PropTypes.arrayOf(PropTypes.object), \r\n\tdimensions: PropTypes.object, \r\n\tscales: PropTypes.object\r\n};","import React, { useState } from 'react';\r\n\r\n// styles\r\nimport { Slider } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tslider: {\r\n\t\twidth: 800,\r\n\t}\r\n}))\r\n\r\nconst AxisSlider = (props) => {\r\n\tconst { data, chartParams, axis } = props;\r\n\tconst [value, setValue] = useState([0, 10])\r\n\tconst classes = useStyles();\r\n\r\n\tconst handleValue = (e, newVal) => {\r\n\t\tsetValue(newVal);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Slider\r\n\t\t\tvalue={value}\r\n\t\t\tstep={10}\r\n\t\t\tvalueLabelDisplay=\"on\"\r\n\t\t\tonChange={handleValue}\r\n\t\t\tclassName={classes.slider}\r\n\t\t/>\r\n\t)\r\n};\r\n\r\nexport { AxisSlider };\r\n","import React, { useEffect, useRef } from 'react'\r\nimport * as d3 from \"d3\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// styles\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tchartContainer: {\r\n\t\twidth: \"100%\",\r\n\t\tposition: \"relative\",\r\n\t\tmargin: \"0 auto\",\r\n\t},\r\n\tboundsContainer: {\r\n\t},\r\n\taxis: {\r\n\t\tcolor: theme.palette.text.primary,\r\n\t\tfontSize: \"1.2em\"\r\n\t}\r\n}));\r\n\r\nconst ChartTemplate = (props) => {\r\n\tconst { data, dimensions, scales, chartParams } = props;\r\n\tconst { x, y, color, margin } = chartParams;\r\n\tconst { width, height } = dimensions;\r\n\r\n\tconst svgRef = useRef(null);\r\n\tconst boundsRef = useRef(null);\r\n\tconst xRef = useRef(null);\r\n\tconst yRef = useRef(null);\r\n\r\n\tconst classes = useStyles(props);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (scales) {\r\n\t\t\tconst xAxisGenerator = d3.axisBottom().scale(scales.xScale);\r\n\t\t\tconst yAxisGenerator = d3.axisLeft().scale(scales.yScale);\r\n\t\t\t\r\n\t\t\td3.select(xRef.current).call(xAxisGenerator)\r\n\t\t\t\t.selectAll(\"text\")\r\n\t\t\t\t\t.attr(\"dy\", \".15em\")\r\n\t\t\t\t\t.attr(\"dx\", \"-.8em\")\r\n\t\t\t\t\t.attr(\"transform\", \"rotate(-65)\")\r\n\t\t\t\t\t.style(\"text-anchor\", \"end\")\r\n\r\n\t\t\td3.select(yRef.current).call(yAxisGenerator);\r\n\t\t}\r\n\t}, [data, scales, chartParams]);\r\n\r\n\treturn (\r\n\t\t<svg\r\n\t\t\tref={svgRef} \r\n\t\t\tclassName={classes.chartContainer}\r\n\t\t\tviewBox={`0 ${-margin.top - margin.bottom} ${width + margin.left + margin.right} ${height + margin.top + margin.bottom}`}\r\n\t\t>\r\n\t\t\t<g \r\n\t\t\t\tref={boundsRef} \r\n\t\t\t\tclassName={classes.boundsContainer} \r\n\t\t\t\ttransform={`translate(${margin.left},-${margin.bottom})`}\r\n\t\t\t>\r\n\t\t\t\t<g ref={xRef} className={classes.axis} transform={`translate(0,${height})`} />\r\n\t\t\t\t<g ref={yRef} className={classes.axis} />\r\n\t\t\t\t{props.children}\r\n\t\t\t</g>\r\n\t\t</svg>\r\n\t);\r\n};\r\n\r\nexport { ChartTemplate };\r\n\r\nChartTemplate.propTypes = {\r\n\tdata: PropTypes.arrayOf(PropTypes.object), \r\n\tdimensions: PropTypes.object, \r\n\tscales: PropTypes.object, \r\n\tchartParams: PropTypes.object\r\n};","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\n\r\n// styles\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\t\"& text\": {\r\n\t\t\tfill: theme.palette.text.primary,\r\n\t\t},\r\n\t},\r\n\ttitle: {\r\n\t\tfontSize: \"1.6rem\",\r\n\t\tfontWeight: 700,\r\n\t},\r\n\tsubtitle: {\r\n\t\tfontSize: \"1.4rem\",\r\n\t\tfontWeight: 500,\r\n\t},\r\n\txLabel: {\r\n\t\tfontSize: \"1.4rem\",\r\n\t\tfontWeight: 700\r\n\t},\r\n\tyLabel: {\r\n\t\tfontSize: \"1.4rem\",\r\n\t\tfontWeight: 700\r\n\t},\r\n}))\r\n\r\nconst Labels = (props) => {\r\n\tconst { chartParams, dimensions, innerProps, labels } = props;\r\n\tconst { title, subtitle, x, y, margin } = chartParams;\r\n\tconst { width, height } = dimensions;\r\n\r\n\tconst classes = useStyles(props);\r\n\r\n\treturn (\r\n\t\t<g className={classes.root}>\r\n\t\t\t<text\r\n\t\t\t\ttextAnchor=\"middle\"\r\n\t\t\t\ttransform={`translate(${width / 2}, ${0})`}\r\n\t\t\t\tclassName={classes.title}\r\n\t\t\t\t{...innerProps.title}\r\n\t\t\t>\r\n\t\t\t\t{!labels.title ? title : labels.title}\r\n\t\t\t</text>\r\n\t\t\t<text\r\n\t\t\t\ttextAnchor=\"middle\"\r\n\t\t\t\ttransform={`translate(${width / 2}, 20)`}\r\n\t\t\t\tclassName={classes.subtitle}\r\n\t\t\t\t{...innerProps.subtitle}\r\n\t\t\t>\r\n\t\t\t\t{!labels.subtitle ? subtitle : labels.subtitle}\r\n\t\t\t</text>\r\n\t\t\t<text\r\n\t\t\t\ttextAnchor=\"middle\"\r\n\t\t\t\ttransform={`translate(${width / 2}, ${height + margin.bottom})`}\r\n\t\t\t\tclassName={classes.xLabel}\r\n\t\t\t\t{...innerProps.xLabel}\r\n\t\t\t>\r\n\t\t\t\t{!labels.xLabel ? x.param : labels.xLabel}\r\n\t\t\t</text>\r\n\t\t\t<text\r\n\t\t\t\ttextAnchor=\"middle\"\r\n\t\t\t\ttransform={`translate(${-margin.left * .8}, ${height * .5}) rotate(-90)`}\r\n\t\t\t\tclassName={classes.yLabel}\r\n\t\t\t\t{...innerProps.yLabel}\r\n\t\t\t>\r\n\t\t\t\t{!labels.yLabel ? y.param : labels.yLabel}\r\n\t\t\t</text>\r\n\t\t</g>\r\n\t)\r\n};\r\n\r\nexport { Labels };\r\n\r\nLabels.propTypes = { \r\n\tchartParams: PropTypes.object.isRequired, \r\n\tdimensions: PropTypes.object.isRequired, \r\n\tinnerProps: PropTypes.object, \r\n\tlabels: PropTypes.object \r\n};\r\n\r\nLabels.defaultProps = {\r\n\tinnerProps: {\r\n\t\ttitle: {},\r\n\t\tsubtitle: {},\r\n\t\txLabel: {},\r\n\t\tyLabel: {}\r\n\t},\r\n\tlabels: {}\r\n};","import React, { useState, useEffect } from 'react';\r\nimport * as d3 from \"d3\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// components\r\nimport { ChartTemplate, Bars, Labels } from \"../Components/chart\";\r\n\r\n// styles\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst defaultDimensions = {\r\n\twidth: window.innerWidth * 0.9,\r\n\theight: window.innerHeight * 0.9\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\trootContainer: {\r\n\t\tposition: \"relative\",\r\n\t\twidth: \"100%\",\r\n\t\theight: \"100%\",\r\n\t},\r\n\tchartContainer: {\r\n\t\tpaddingTop: theme.spacing(6)\r\n\t}\r\n}));\r\n\r\nconst ChartCPI = (props) => {\r\n\tconst { data, chartParams } = props;\r\n\tconst [dimensions, setDimensions] = useState(defaultDimensions);\r\n\tconst [scales, setScales] = useState(null);\r\n\r\n\tconst { x, y, color } = chartParams;\r\n\tconst { width, height } = dimensions;\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst xScale = d3.scaleBand()\r\n\t\t\t.domain(data.map(d => d[x.param]))\r\n\t\t\t.range([0, width])\r\n\t\t\t.padding(0.1);\r\n\t\t\t\t\r\n\t\tconst yScale = d3.scaleLinear()\r\n\t\t\t.domain([0, d3.max(data, d => d[y.param])])\r\n\t\t\t.range([height, 0]);\r\n\r\n\t\tconst colorScale = d3.scaleOrdinal()\r\n\t\t\t.domain(() => color.paramFields[color.selected])\r\n\t\t\t.range(d3.schemePaired);\r\n\r\n\t\tsetScales({\r\n\t\t\txScale,\r\n\t\t\tyScale,\r\n\t\t\tcolorScale\r\n\t\t});\r\n\t}, [data, chartParams]);\r\n\r\n\treturn (\r\n\t\t<section className={classes.rootContainer}>\r\n\t\t\t<Grid className={classes.chartContainer}>\r\n\t\t\t\t{scales\r\n\t\t\t\t\t&& <>\r\n\t\t\t\t\t\t<ChartTemplate \r\n\t\t\t\t\t\t\tchartParams={chartParams}\r\n\t\t\t\t\t\t\tdimensions={dimensions} \r\n\t\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\t\tscales={scales}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Bars \r\n\t\t\t\t\t\t\t\tchartParams={chartParams}\r\n\t\t\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\t\t\tdimensions={dimensions}\r\n\t\t\t\t\t\t\t\tscales={scales}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Labels \r\n\t\t\t\t\t\t\t\tchartParams={chartParams}\r\n\t\t\t\t\t\t\t\tdimensions={dimensions}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ChartTemplate>\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t</Grid>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport { ChartCPI };\r\n\r\nChartCPI.propTypes = { \r\n\tdata: PropTypes.arrayOf(PropTypes.object).isRequired, \r\n\tchartParams: PropTypes.object.isRequired \r\n}\r\n","import React from 'react';\r\n\r\n// styles\r\nimport { Grid, Typography, Divider } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tmargin: \"0 auto\",\r\n\t\tpadding: theme.spacing(4),\r\n\t\tmaxWidth: \"1200px\",\r\n\t\tflexFlow: \"column wrap\",\r\n\t\t\"& p\": {\r\n\t\t\ttextAlign: \"justify\",\r\n\t\t\tfontSize: \"1.2rem\",\r\n\t\t\tmarginBottom: \"1rem\",\r\n\t\t\tlineHeight: \"2rem\"\r\n\t\t},\r\n\t\t\"& p:last-child\": {\r\n\t\t\tmarginBottom: 0,\r\n\t\t},\r\n\t\t\"& h2,h3\": {\r\n\t\t\tfontWeight: 700,\r\n\t\t\tfontSize: \"1.6rem\",\r\n\t\t\tmarginTop: \"1rem\",\r\n\t\t\tmarginBottom: \"1rem\"\r\n\t\t},\r\n\t\t\"& li\": {\r\n\t\t\ttextIndent: \"2rem\",\r\n\t\t\ttextAlign: \"justify\",\r\n\t\t\tfontSize: \"1.2rem\",\r\n\t\t\tlineHeight: \"1.5rem\"\r\n\t\t}\r\n\t},\t\r\n\ttitle: {},\r\n\tdivider: {\r\n\t\tbackgroundColor: theme.palette.text.primary\r\n\t},\r\n}))\r\n\r\nconst About = (props) => {\r\n\tconst classes = useStyles(props);\r\n\r\n\treturn (\r\n\t\t<Grid className={classes.root}>\r\n\t\t\t<Typography\r\n\t\t\t\tvariant=\"h3\"\r\n\t\t\t\tclassName={classes.title}\r\n\t\t\t>\r\n\t\t\t\tAbout this chart\r\n\t\t\t</Typography>\r\n\t\t\t<Divider className={classes.divider} />\r\n\t\t\t{props.children}\r\n\t\t</Grid>\t\r\n\t)\r\n};\r\n\r\nexport { About };","import React from 'react';\r\n\r\n// components\r\nimport { About } from \"../Components/layouts/\";\r\n\r\n// styles\r\nimport { Typography, Divider } from \"@material-ui/core\";\r\n\r\nconst AboutCPI = (props) => {\r\n\treturn (\r\n\t\t<section>\r\n\t\t\t<About>\r\n\t\t\t\t<Typography variant=\"h4\">Background</Typography>\r\n\t\t\t\t<Typography>The Consumer Price Index (CPI) is used for ...</Typography><br />\r\n\t\t\t\t<Typography variant=\"h4\">Data</Typography>\r\n\t\t\t\t<Typography>The data in this chart is sourced from the World Population Review</Typography><br />\r\n\t\t\t</About>\r\n\t\t</section>\r\n\t)\r\n};\r\n\r\nexport { AboutCPI };\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useData, useFilters } from \"../hooks\";\r\n\r\n// params\r\nimport { params } from \"../params/params\";\r\n\r\n// components\r\nimport { Navbar, SideDrawer } from \"../Components/nav\";\r\nimport { ParameterInterface, FilterInterface, Selections } from \"../Components/selectors\";\r\nimport { ChartCPI } from \"./ChartCPI\";\r\nimport { AboutCPI } from \"./AboutCPI\";\r\n\r\n// context\r\nimport { SelectContext } from \"../context/SelectContext\";\r\n\r\n// data\r\nimport { data as dataCPI } from \"../data/dataCPI.json\";\r\n\r\n// utils\r\nimport { standardizeStateName } from \"../utils/dataUtils\";\r\n\r\n// styles\r\nimport { Grid, Toolbar } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\trootDiv: {\r\n\t},\r\n\tsideDrawer: {},\r\n\tsectionTitle: {\r\n\t\tpaddingTop: theme.spacing(4),\r\n\t\tfontWeight: 700,\r\n\t\tfontSize: \"1.5rem\",\r\n\t},\r\n\tdrawerSection: {\r\n\t\tpaddingLeft: theme.spacing(2),\r\n\t},\t\r\n\tdeselectButton: {\r\n\t\tcolor: \"red\",\r\n\t},\r\n}));\r\n\r\nconst AppCPI = () => {\r\n\tconst dataRaw = useData(dataCPI);\r\n\tconst [data, setData] = useState(null);\r\n\tconst [selected, setSelected] = useState([]);\r\n\tconst [filters, setFilters] = useState([]);\r\n\tconst [mobileOpen, setMobileOpen] = useState(false);\r\n\tconst [filterSettings, setFilterSettings] = useState({\r\n\t\toperator: \"AND\",\r\n\t\tn: 12,\r\n\t});\r\n\tconst [chartParams, setChartParams] = useState(params.appCPI.chart);\r\n\tconst { filterList } = params.appCPI;\r\n\tconst filteredSelection = useFilters(filters);\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tconst handleDrawer = () => {\r\n\t\tsetMobileOpen(!mobileOpen);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSelected(filteredSelection);\r\n\t}, [filteredSelection]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet revDataRaw = dataRaw;\r\n\t\trevDataRaw.forEach(d => {\r\n\t\t\tlet standardName = standardizeStateName(d.State);\r\n\t\t\td.State = standardName;\r\n\t\t});\r\n\t\tsetData(revDataRaw);\r\n\t}, [dataRaw]);\r\n\t\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<SelectContext.Provider value={{selected, setSelected}}>\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<Navbar\r\n\t\t\t\t\t\tposition=\"static\" \r\n\t\t\t\t\t\thandleDrawer={handleDrawer}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</header>\r\n\t\t\t\t<SideDrawer\r\n\t\t\t\t\tmobileOpen={mobileOpen}\r\n\t\t\t\t\thandleDrawer={handleDrawer}\r\n\t\t\t\t\tdrawerWdith={drawerWidth}\r\n\t\t\t\t\tclassName={classes.sideDrawer}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ParameterInterface \r\n\t\t\t\t\t\taxis=\"y\"\r\n\t\t\t\t\t\tchartParams={chartParams}\r\n\t\t\t\t\t\tsetChartParams={setChartParams}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\tdrawerSection: classes.drawerSection\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<FilterInterface \r\n\t\t\t\t\t\tfilterList={filterList}\r\n\t\t\t\t\t\tfilters={filters}\r\n\t\t\t\t\t\tsetFilters={setFilters}\r\n\t\t\t\t\t\tfilterSettings={filterSettings}\r\n\t\t\t\t\t\tsetFilterSettings={setFilterSettings}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\tdrawerSection: classes.drawerSection,\r\n\t\t\t\t\t\t\tsectionTitle: classes.sectionTitle,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Selections \r\n\t\t\t\t\t\tsetFilters={setFilters} \r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\tdrawerSection: classes.drawerSection,\r\n\t\t\t\t\t\t\tsectionTitle: classes.sectionTitle\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</SideDrawer>\r\n\t\t\t\t<Toolbar />\r\n\t\t\t\t<Grid container className={classes.rootDiv}>\r\n\t\t\t\t\t{data \r\n\t\t\t\t\t\t&& <ChartCPI \r\n\t\t\t\t\t\t\t\tdata={data} \r\n\t\t\t\t\t\t\t\tchartParams={chartParams}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<AboutCPI />\r\n\t\t\t</SelectContext.Provider>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport { AppCPI };\r\n","const PARAMS_HEATMAP = {\r\n\tCHART: {\r\n\t\tid: \"\",\r\n\t\ttitle: \"Salary comparison US states\",\r\n\t\tsubtitle: \"Data from the U.S. Bureau of Labor Statistics and U.S. Bureau of Economic Analysis\",\r\n\t\tx: {\r\n\t\t\tid: \"\",\r\n\t\t\tdataType: \"nominal\",\r\n\t\t\tscale: \"band\",\r\n\t\t\tlabel: \"State\",\r\n\t\t\taxis: \"x-axis\",\r\n\t\t\tparam: \"area_title\",\r\n\t\t\tparamFields: [\r\n\t\t\t],\r\n\t\t},\r\n\t\ty: {\r\n\t\t\tid: \"\",\r\n\t\t\tdataType: \"nominal\",\r\n\t\t\tscale: \"band\",\r\n\t\t\tlabel: \"Occupation\",\r\n\t\t\taxis: \"y-axis\",\r\n\t\t\tparam: \"occ_title\",\r\n\t\t\tparamFields: [\"occ_title\"],\r\n\t\t},\r\n\t\tz: {\r\n\t\t\tid: \"\",\r\n\t\t\tscale: \"\",\r\n\t\t\tlabel: \"\",\r\n\t\t\taxis: \"z-axis\",\r\n\t\t\tparam: \"\",\r\n\t\t\tparamFields: [],\r\n\t\t},\r\n\t\tcolor: {\r\n\t\t\tid: \"\",\r\n\t\t\tscale: \"color\",\r\n\t\t\tlabel: \"Color category\",\r\n\t\t\taxis: \"color-axis\",\r\n\t\t\tparam: \"a_median\",\r\n\t\t\tselected: \"a_median\",\r\n\t\t\tparamFields: [\r\n\t\t\t\t{label: \"Median salary (nominal)\", value: \"a_median\", description: \"Data from Bureau of Labor Statistics: \\nMay 2019 State Occupational Employment and Wage Estimates\"},\r\n\t\t\t\t{label: \"Median salary (real)\", value: \"RPP_a_median\", description: \"Real salary derived using Regional Price Parity from Bureau of Economic Analysis report: \\nSARPP Regional Price Parities by State\"}\r\n\t\t\t]\r\n\t\t},\r\n\t\tmargin: {\r\n\t\t\ttop: 100,\r\n\t\t\tbottom: 180,\r\n\t\t\tleft: 300,\r\n\t\t\tright: 80,\r\n\t\t}\r\n\t},\r\n\tPAGE: {\r\n\t\ttitle: \"Salary Comparison US States\",\r\n\t\tabout: [\r\n\t\t\t{\r\n\t\t\t\ttitle: \"Purpose\",\r\n\t\t\t\ttext: [\r\n\t\t\t\t\t\"This heatmap provides a quick comparison of salaries across US states and the District of Columbia.\",\r\n\t\t\t\t\t\"Users can toggle between nominal (not adjusted for Regional Price Parity) and real (adjusted for Regional Price Parity).\"\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"Data\", \r\n\t\t\t\ttext: [\r\n\t\t\t\t\t\"Nomal salary data is provided by the Bureau of Labor Statistics (BLS) report: May 2019 State Occupational Employment and Wage Estimates. Median annual salary is used in this chart.\",\r\n\t\t\t\t\t\"Real salary derived using Regional Price Parity (RPP) from Bureau of Economic Analysis (BEA) report: SARPP Regional Price Parities by State\",\r\n\t\t\t\t\t\"RPP is calculated by the U.S. BEA, and it measures prices of goods/services expressed as a percentage of national prices.\",\r\n\t\t\t\t\t\"Real salary for each state is estimated by multiplying RPP by salary\",\r\n\t\t\t\t].join(\"\\n\"),\r\n\t\t\t\tlist: [\r\n\t\t\t\t\t{id: \"bls-about-green\", text: \"GREEN = HIGH salary for the SAME occupation in relation to OTHER states.\"},\r\n\t\t\t\t\t{id: \"bls-about-yellow\", text: \"YELLOW = MEDIAN salary for the SAME occupation in relation to OTHER states.\"},\r\n\t\t\t\t\t{id: \"bls-about-red\", text: \"RED = LOW salary for the SAME occupation in relation to OTHER states.\"},\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t]\r\n\t},\r\n\tREFERENCE: { \r\n\t\toccupationAbbreviations: {\r\n\t\t\tand: \"&\",\r\n\t\t\tAdministrative: \"Admin.\",\r\n\t\t\tBuilding: \"Bldg\",\r\n\t\t\tBusiness: \"Bus.\",\r\n\t\t\tCleaning: \"Clean.\",\r\n\t\t\tEducational: \"Edu.\",\r\n\t\t\tEntertainment: \"Ent.\",\r\n\t\t\tFinancial: \"Fin.\",\r\n\t\t\tMaintenance: \"Maint.\",\r\n\t\t\tMathematical: \"Math\",\r\n\t\t\tPhysical: \"Phys.\",\r\n\t\t\tPreparation: \"Prep.\",\r\n\t\t\tRelated: \"Rel.\",\r\n\t\t\tTechnical: \"Tech\",\r\n\t\t\tTransportation: \"Trans.\"\r\n\t\t}\r\n\t},\r\n\tFILTER_LIST: [\r\n\t\t{id: \"filter-gov\", refLabel: \"governor\", label: \"Gov. Party\", options: [\"Democrat\", \"Republican\"], type: \"categorical\"},\r\n\t\t{id: \"filter-region\", refLabel: \"region\", label: \"Region\", options: [\"Northeast\", \"Midwest\", \"South\", \"West\"], type: \"categorical\"},\r\n\t\t{id: \"filter-population-total\", refLabel: \"population\", label: \"Population (total)\", options: [\"Top\", \"Bottom\"], type: \"numerical\"},\r\n\t\t{id: \"filter-population-density\", refLabel: \"populationDensity\", label: \"Population (density)\", options: [\"Top\", \"Bottom\"], type: \"numerical\"},\r\n\t\t{id: \"filter-gdp\", refLabel: \"gdp\", label: \"GDP\", options: [\"Top\", \"Bottom\"], type: \"numerical\"},\r\n\t]\r\n};\r\n\r\nexport default PARAMS_HEATMAP;","import React, { useEffect, useRef, useContext } from 'react'\r\nimport * as d3 from \"d3\";\r\nimport PropTypes from \"prop-types\";\r\nimport clsx from \"clsx\";\r\n\r\n// context\r\nimport { SelectContext } from \"../context/SelectContext\";\r\n\r\n// styles\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\trootContainer: {\r\n\t\tposition: \"relative\",\r\n\t\twidth: \"100%\",\r\n\t\theight: \"100%\",\r\n\t},\r\n\tchartContainer: {\r\n\t\tpaddingTop: theme.spacing(6),\r\n\t},\r\n\theatmapSquare: {\r\n\t\topacity: 0.6,\r\n\t\tborderRadius: \"3px\",\r\n\t\t\"&:hover\": {\r\n\t\t\tstrokeWidth: \"3px\",\r\n\t\t\topacity: 1,\r\n\t\t\tcursor: \"pointer\",\r\n\t\t}\r\n\t},\r\n\tsquaretext: {\r\n\t\ttextAlign: \"center\",\r\n\t\tfill: \"#000\",\r\n\t\t\"&:hover\": {\r\n\t\t\tstrokeWidth: \"2px\",\r\n\t\t\topacity: 1,\r\n\t\t\tcursor: \"pointer\",\r\n\t\t}\r\n\t},\r\n\theatmapSquareSelected: {\r\n\t\tstroke: theme.palette.text.primary,\r\n\t\topacity: 1,\r\n\t\tfill:\"blue\",\r\n\t},\r\n\ttooltip: {\t\r\n\t\tposition: \"absolute\",\t\t\t\r\n\t\ttextAlign: \"center\",\t\t\t\r\n\t\twidth: \"60px\",\t\t\t\t\t\r\n\t\theight: \"28px\",\t\t\t\t\t\r\n\t\tpadding: \"2px\",\t\t\t\t\t\t\r\n\t\tborder: \"0px\",\t\t\r\n\t\tborderRadius: \"8px\",\t\t\t\r\n\t\tpointerEvents: \"none\"\t\t\t\r\n\t},\r\n}));\r\n\r\nconst HeatmapBLS = (props) => {\r\n\tconst { data, chartParams, scales } = props;\r\n\tconst { x, y, color } = chartParams;\r\n\tconst { xScale, yScale, getColorScale } = scales;\r\n\tconst { selected, setSelected } = useContext(SelectContext);\r\n\tconst heatmapRef = useRef(null);\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst squares = d3.select(heatmapRef.current)\r\n\t\t\t.selectAll(\"rect\")\r\n\t\t\t.data(data, d => d)\r\n\t\t\t.join(\"rect\")\r\n\t\t\t\t.attr(\"x\", d => xScale(d[x.param]))\r\n\t\t\t\t.attr(\"y\", d => yScale(d[y.param]))\r\n\t\t\t\t.attr(\"width\", () => xScale.bandwidth())\r\n\t\t\t\t.attr(\"height\", () => yScale.bandwidth())\r\n\t\t\t\t.attr(\"id\", d => `${d.occ_code}-${d.area}`)\r\n\t\t\t\t.attr(\"class\", d => \r\n\t\t\t\t\t!selected.includes(`${d.occ_code}-${d[y.param]}`) \r\n\t\t\t\t\t\t? clsx(classes.heatmapSquare,\r\n\t\t\t\t\t\t\t`bls-area-${d.area}`, \r\n\t\t\t\t\t\t\t`bls-occ-${d.occ_code}`)\r\n\t\t\t\t\t\t: clsx(classes.heatmapSquare,\r\n\t\t\t\t\t\t\tclasses.heatmapSquareSelected,\r\n\t\t\t\t\t\t\t`bls-area-${d.area}`, \r\n\t\t\t\t\t\t\t`bls-occ-${d.occ_code}`)\r\n\t\t\t\t)\t\r\n\t\t\t.style(\"fill\", d => getColorScale(d[y.param], d[color.param]))\r\n\t\t\t\t.call(rect => rect\r\n\t\t\t\t\t.append(\"title\")\r\n\t\t\t\t\t.text(d => [\r\n\t\t\t\t\t\td[y.param],\r\n\t\t\t\t\t\td[x.param],\r\n\t\t\t\t\t\t`${color.param}: $${Math.round(d[color.param] * 1000).toLocaleString()}/year`,\r\n\t\t\t\t\t].join(\"\\n\"))\r\n\t\t\t\t);\r\n\r\n\t\tsquares.on(\"mouseover\", d => {\r\n\t\t\tconst selectColumn = d3\r\n\t\t\t\t.selectAll(`.bls-area-${d.area}`)\r\n\t\t\tconst selectRow = d3\r\n\t\t\t\t.selectAll(`.bls-occ-${d.occ_code}`)\r\n\r\n\t\t\tselectColumn\r\n\t\t\t\t.style(\"opacity\", 1)\r\n\t\t\t\t.style(\"stroke\", \"#27ffff\")\r\n\t\t\t\t.style(\"stroke-width\", \"3px\")\r\n\t\t\tselectRow\r\n\t\t\t\t.style(\"opacity\", 1)\r\n\t\t\t\t.style(\"stroke\", \"#27ffff\")\r\n\t\t\t\t.style(\"stroke-width\", \"3px\")\r\n\t\t});\r\n\r\n\t\tsquares.on(\"mouseout\", d => {\r\n\t\t\tconst selectColumn = d3\r\n\t\t\t\t.selectAll(`.bls-area-${d.area}`);\r\n\t\t\tconst selectRow = d3\r\n\t\t\t\t.selectAll(`.bls-occ-${d.occ_code}`);\r\n\r\n\t\t\tselectColumn\r\n\t\t\t\t.style(\"opacity\", 0.7)\r\n\t\t\t\t.style(\"stroke\", \"none\")\r\n\t\t\tselectRow\r\n\t\t\t\t.style(\"opacity\", 0.7)\r\n\t\t\t\t.style(\"stroke\", \"none\")\r\n\t\t});\r\n\r\n\t\tsquares.on(\"click\", d => {\r\n\t\t\tconst selectColumn = d3\r\n\t\t\t\t.selectAll(`.bls-area-${d.area}`)\r\n\t\t\tconst selectRow = d3\r\n\t\t\t\t.selectAll(`.bls-occ-${d.occ_code}`)\r\n\r\n\t\t\tconst selection = `${d.occ_code}-${d[y.param]}`;\r\n\r\n\t\t\tselectColumn\r\n\t\t\t\t.attr(\"class\", classes.heatmapSquareSelected)\r\n\t\t\t\t.style(\"opacity\", 1)\r\n\t\t\t\t.style(\"stroke\", \"#27ffff\")\r\n\t\t\t\t.style(\"stroke-width\", \"3px\");\r\n\t\t\tselectRow\r\n\t\t\t\t.attr(\"class\", classes.heatmapSquareSelected)\r\n\t\t\t\t.style(\"opacity\", 1)\r\n\t\t\t\t.style(\"stroke\", \"#27ffff\")\r\n\t\t\t\t.style(\"stroke-width\", \"3px\")\r\n\t\t});\r\n\r\n\t}, [chartParams, scales]);\r\n\r\n\treturn (\r\n\t\t<g ref={heatmapRef} />\r\n\t);\r\n};\r\n\r\nexport { HeatmapBLS };\r\n\r\nHeatmapBLS.propTypes = {\r\n\tdata: PropTypes.arrayOf(PropTypes.object).isRequired, \r\n\tchartParams: PropTypes.object.isRequired, \r\n\tscales: PropTypes.object.isRequired\r\n};","import React, { useState, useEffect, useRef,useContext } from 'react'\r\nimport { nest, min, max, scaleBand, scaleSequential, interpolateRdYlGn, axisBottom, axisLeft, select } from \"d3\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\n// params\r\nimport stateInfo from \"../params/stateInfo.json\";\r\nimport { PARAMS_HEATMAP } from \"../params\";\r\n\r\n// components\r\nimport { Labels } from \"../Components/chart\";\r\nimport { HeatmapBLS } from \"./HeatmapBLS\";\r\n\r\n// context\r\nimport { SelectContext } from \"../context/SelectContext\";\r\n\r\n//  utils\r\nimport { pivotData } from \"../utils/dataUtils\";\r\n\r\n// styles\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst defaultDimensions = {\r\n\twidth: window.innerWidth * 1,\r\n\theight: window.innerHeight * .9\r\n};\r\nconst stateKeys = pivotData(stateInfo, \"name\");\r\nconst { occupationAbbreviations } = PARAMS_HEATMAP.REFERENCE;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\trootContainer: {\r\n\t\tposition: \"relative\",\r\n\t\twidth: \"100%\",\r\n\t\theight: \"100%\",\r\n\t\tpadding: 0\r\n\t},\r\n\tchartContainer: {\r\n\t\twidth: \"100%\",\r\n\t\tposition: \"relative\",\r\n\t\tmargin: \"0 auto\",\r\n\t},\r\n\tboundsContainer: {\r\n\t},\r\n\taxis: {\r\n\t\tcolor: theme.palette.text.primary,\r\n\t\tfontSize: \"1rem\",\r\n\t\tfontWeight: 600,\r\n\t},\r\n\taxisSelected: {\r\n\t\tcolor: \"red\",\r\n\t},\r\n}));\r\n\r\nconst ChartBLS = (props) => {\r\n\tconst { data, chartParams } = props;\r\n\tconst [scales, setScales] = useState(null);\r\n\tconst [dimensions, setDimensions] = useState(defaultDimensions);\r\n\tconst { selected, setSelected } = useContext(SelectContext);\r\n\r\n\tconst { x, y, color, margin } = chartParams;\r\n\tconst { width, height } = dimensions;\r\n\r\n\tconst wrapperRef = useRef(null);\r\n\tconst svgRef = useRef(null);\r\n\tconst boundsRef = useRef(null);\r\n\tconst xRef = useRef(null);\r\n\tconst yRef = useRef(null);\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tconst condenseYLabel = (label) => {\r\n\t\tlet revLabel = label.split(\" \").slice(0, -1).join(\" \");\r\n\t\tObject.keys(occupationAbbreviations).forEach(long => {\r\n\t\t\tif (revLabel.includes(long)) {\r\n\t\t\t\trevLabel = revLabel.replace(long, occupationAbbreviations[long]);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn revLabel;\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst createScales = async () => {\r\n\t\t\tlet statesPerOccupation = {};\r\n\r\n\t\t\tconst nested = nest()\r\n\t\t\t\t.key(d => d.occ_title)\r\n\t\t\t\t.entries(data)\r\n\r\n\t\t\tawait nested.forEach(occ => {\r\n\t\t\t\tlet valuesEachState = [];\r\n\t\t\r\n\t\t\t\tocc.values.forEach(state => {\r\n\t\t\t\t\tvaluesEachState.push(state[color.param])\r\n\t\t\t\t});\r\n\r\n\t\t\t\tstatesPerOccupation[occ.key] = [min(valuesEachState), max(valuesEachState)];\r\n\t\t\t});\r\n\r\n\t\t\tconst xScale = scaleBand()\r\n\t\t\t\t.domain(data.map(d => d[x.param]).sort())\r\n\t\t\t\t.range([0, width]);\r\n\t\t\t\t\r\n\t\t\tconst yScale = scaleBand()\r\n\t\t\t\t.domain(data.map(d => d[y.param]).sort().reverse())\r\n\t\t\t\t.range([height, 0]);\r\n\r\n\t\t\tconst getColorScale = (occupation,value) => {\r\n\t\t\t\tconst colorScale = scaleSequential(interpolateRdYlGn)\r\n\t\t\t\t\t.domain(statesPerOccupation[occupation])\r\n\r\n\t\t\t\treturn colorScale(value);\r\n\t\t\t};\r\n\r\n\t\t\tsetScales({\r\n\t\t\t\txScale,\r\n\t\t\t\tyScale,\r\n\t\t\t\tgetColorScale\r\n\t\t\t});\r\n\r\n\t\t\tconst xAxisGenerator = axisBottom(xScale);\r\n\t\t\tconst yAxisGenerator = axisLeft(yScale);\r\n\r\n\t\t\tselect(xRef.current).call(xAxisGenerator)\r\n\t\t\t\t.selectAll(\"text\")\r\n\t\t\t\t.attr(\"id\", d => `bls-xtick-${stateKeys[d][0].id}`)\r\n\t\t\t\t.attr(\"dy\", \"-.15rem\")\r\n\t\t\t\t.attr(\"dx\", \"-.8rem\")\r\n\t\t\t\t.attr(\"transform\", \"rotate(-65)\")\r\n\t\t\t\t.attr(\"class\", classes.axis)\r\n\t\t\t\t.style(\"text-anchor\", \"end\");\r\n\t\t\t\r\n\t\t\tconst yAxis = select(yRef.current).call(yAxisGenerator)\r\n\t\t\t\t.selectAll(\"text\")\r\n\t\t\t\t.attr(\"class\", classes.axis)\r\n\t\t\t\t.text(d => condenseYLabel(d));\r\n\t\t};\r\n\tcreateScales();\r\n\t}, [selected, data, chartParams]);\r\n\r\n\treturn (\r\n\t\t<section>\r\n\t\t\t<Grid container id=\"bls-chart-wrapper\" className={classes.rootContainer} ref={wrapperRef}>\r\n\t\t\t\t<svg\r\n\t\t\t\t\tref={svgRef} \r\n\t\t\t\t\tclassName={classes.chartContainer}\r\n\t\t\t\t\tviewBox={`0 ${-margin.top - margin.bottom} ${width + margin.left + margin.right} ${height + margin.top + margin.bottom}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<g \r\n\t\t\t\t\t\tref={boundsRef} \r\n\t\t\t\t\t\tclassName={classes.boundsContainer} \r\n\t\t\t\t\t\ttransform={`translate(${margin.left},-${margin.bottom})`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<g ref={xRef} transform={`translate(0,${height})`} />\r\n\t\t\t\t\t\t<g ref={yRef} className={classes.axis} />\r\n\t\t\t\t\t\t{scales\r\n\t\t\t\t\t\t\t&& <>\r\n\t\t\t\t\t\t\t\t\t<HeatmapBLS \r\n\t\t\t\t\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\t\t\t\t\tchartParams={chartParams}\r\n\t\t\t\t\t\t\t\t\t\tscales={scales}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Labels\r\n\t\t\t\t\t\t\t\t\t\tchartParams={chartParams}\r\n\t\t\t\t\t\t\t\t\t\tdimensions={dimensions}\r\n\t\t\t\t\t\t\t\t\t\tinnerProps={{\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform: `translate(${width / 2}, ${-margin.top * .5})`\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tsubtitle: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform: `translate(${width / 2}, ${-margin.top * .25})`\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\txLabel: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttextAnchor: \"start\",\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform: `translate(${width + margin.right * .25}, ${height + 10})`\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tyLabel: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttextAnchor: \"end\",\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform: `translate(0, ${-margin.top * .25})`\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tlabels={{\r\n\t\t\t\t\t\t\t\t\t\t\tyLabel: \"Occupation\",\r\n\t\t\t\t\t\t\t\t\t\t\txLabel: \"State\"\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</g>\r\n\t\t\t\t</svg>\r\n\t\t\t</Grid>\r\n\t\t</section>\r\n\t)\r\n};\r\n\r\nexport { ChartBLS };\r\n\r\nChartBLS.propTypes = {\r\n\tdata: PropTypes.arrayOf(PropTypes.object).isRequired, \r\n\tchartParams: PropTypes.object\r\n};","import React from \"react\";\r\n\r\n// styles\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tchartControlWrapper: {\r\n\t\twidth: \"600px\",\r\n\t\tdisplay: \"flex\",\r\n\t}\r\n}));\r\n\r\nconst ChartControl = (props) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div container className={classes.chartControlWrapper}>\r\n\t\t\t{props.children}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ChartControl;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from \"prop-types\";\r\n\r\n// styles\r\nimport { FormControl, FormControlLabel, FormLabel, RadioGroup, Radio } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tradioGroup: {\r\n\t\tdisplay: \"inline-block\"\r\n\t},\r\n}));\r\n\r\nconst ChartControlRadio = ({ ariaLabel, name, axis, chartParams, setChartParams }) => {\r\n\tconst parameter = chartParams[axis];\r\n\tconst classes = useStyles();\r\n\r\n\tconst handleSelect = e => {\r\n\t\tsetChartParams(prevState => ({\r\n\t\t\t...prevState,\r\n\t\t\t[axis]: {\r\n\t\t\t\t...prevState[axis],\r\n\t\t\t\tparam: e.target.value\r\n\t\t\t}\r\n\t\t}))\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormControl component=\"fieldset\">\r\n\t\t\t<RadioGroup\r\n\t\t\t\taria-label={ariaLabel}\r\n\t\t\t\tname={name}\r\n\t\t\t\tvalue={parameter.param}\r\n\t\t\t\tonChange={e => handleSelect(e)}\r\n\t\t\t\tclassName={classes.radioGroup}\r\n\t\t\t>\r\n\t\t\t\t{parameter.paramFields\r\n\t\t\t\t\t? parameter.paramFields.map(field => (\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tkey={field.value}\r\n\t\t\t\t\t\t\tvalue={field.value}\r\n\t\t\t\t\t\t\tcontrol={<Radio title={field.description} />}\r\n\t\t\t\t\t\t\tlabel={field.label}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))\r\n\t\t\t\t\t: <div></div>\r\n\t\t\t\t}\r\n\r\n\t\t\t</RadioGroup>\r\n\t\t</FormControl>\r\n\r\n\t);\r\n};\r\n\r\nexport default ChartControlRadio;\r\n\r\nChartControlRadio.propTypes = {\r\n\tariaLabel: PropTypes.string,\r\n\tname: PropTypes.string,\r\n\taxis: PropTypes.string,\r\n\tchartParams: PropTypes.object.isRequired,\r\n\tsetChartParams: PropTypes.func.isRequired,\r\n\tparamFields: PropTypes.array.isRequired\r\n};\r\n\r\nChartControlRadio.defaultProps = {\r\n\tariaLabel: \"\",\r\n\tname: \"\",\r\n\taxis: \"color\"\r\n};","import React, { useState, useEffect, useContext } from 'react';\r\n\r\n// context\r\nimport { SelectContext } from \"../../context/SelectContext\";\r\n\r\n// styles\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\t\"& p\": {\r\n\t\t\tdisplay: \"inline\",\r\n\t\t\tfontSize: \"1rem\"\r\n\t\t}\r\n\t},\r\n\tdeselectAllButton: {\r\n\t\tcolor: \"#FF0000\"\r\n\t}\r\n}));\r\n\r\nconst ChartControlSelector = (props) => {\r\n\tconst { select, setSelected } = useContext(SelectContext);\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div container className={classes.root}>\r\n\t\t\t<p>Deselect All</p>\r\n\t\t\t<IconButton\r\n\t\t\t\ttitle=\"Deselect all\"\r\n\t\t\t\tonClick={() => setSelected([])}\t\r\n\t\t\t>\r\n\t\t\t\t<ClearIcon className={classes.deselectAllButton}/>\r\n\t\t\t</IconButton>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ChartControlSelector;\r\n\r\n","import React from \"react\";\r\n\r\n// components\r\nimport { About } from \"../Components/layouts/\";\r\n\r\n// params\r\nimport { PARAMS_HEATMAP } from \"../params\";\r\n\r\nconst aboutParams = PARAMS_HEATMAP.PAGE.about;\r\n\r\n\r\nconst AboutBLS = () => {\r\n\treturn (\r\n\t\t<section>\r\n\t\t\t<About>\r\n\t\t\t\t{aboutParams.map(sec => (\r\n\t\t\t\t\t<div key={sec.title}>\r\n\t\t\t\t\t\t<h2>{sec.title}</h2>\r\n\t\t\t\t\t\t<p>{sec.text}</p>\r\n\t\t\t\t\t\t{sec.list\r\n\t\t\t\t\t\t\t&& <ul>\r\n\t\t\t\t\t\t\t\t{sec.list.map(item => (\r\n\t\t\t\t\t\t\t\t\t<li key={item.id}>{item.text}</li>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</About>\r\n\t\t</section>\r\n\t)\r\n};\r\n\r\nexport default AboutBLS;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\n// params\r\nimport { PARAMS_HEATMAP } from \"../params\";\r\n\r\n// components\r\nimport { Navbar, SideDrawer } from \"../Components/nav\";\r\nimport { FilterInterface, Selections } from \"../Components/selectors\";\r\nimport { ChartBLS } from \"./ChartBLS\";\r\nimport { ChartControl, ChartControlRadio, ChartControlSelector } from \"../Components/controls\";\r\nimport AboutBLS from \"./AboutBLS\";\r\n\r\n//hooks\r\nimport { useData, useFilters } from \"../hooks\";\r\n\r\n// context\r\nimport { SelectContext } from \"../context/SelectContext\";\r\n\r\n// data\r\nimport dataBLS from \"../data/state_M2019_dl.csv\";\r\nimport dataRPP from \"../data/bea_regional_price_parities_2018.csv\";\r\n\r\n// styles\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\trootDiv: {\r\n\t\t[theme.breakpoints.up(\"lg\")]: {\r\n\t\t\tpaddingLeft: drawerWidth,\r\n\t\t}\r\n\t},\r\n\tsideDrawer: {},\r\n\tsectionTitle: {\r\n\t\tpaddingTop: theme.spacing(4),\r\n\t\tfontWeight: 700,\r\n\t\tfontSize: \"1.5rem\",\r\n\t},\r\n\tdrawerSection: {\r\n\t\tpaddingLeft: theme.spacing(2),\r\n\t},\t\r\n\tdeselectButton: {\r\n\t\tcolor: \"red\",\r\n\t},\r\n}));\r\n\r\nconst filterList = PARAMS_HEATMAP.FILTER_LIST;\r\n\r\nconst AppBLS = () => {\r\n\tconst dataRaw = useData(dataBLS);\r\n\r\n\tconst [data, setData] = useState(null);\r\n\tconst [mobileOpen, setMobileOpen] = useState(false);\r\n\tconst [chartParams, setChartParams] = useState(PARAMS_HEATMAP.CHART);\r\n\r\n\tconst [filters, setFilters] = useState([]);\r\n\tconst [filterSettings, setFilterSettings] = useState({\r\n\t\toperator: \"AND\",\r\n\t\tn: 12,\r\n\t});\r\n\tconst filteredSelection = useFilters(filters);\r\n\tconst [selected, setSelected] = useState([]);\r\n\r\n\tconst classes = useStyles();\r\n\t\r\n\tconst handleDrawer = () => {\r\n\t\tsetMobileOpen(!mobileOpen);\r\n\t};\r\n\r\n    const cleanData = async data => {\r\n        const dataNoTerritories = data.filter(\r\n            d =>\r\n                d.area_title !== \"Virgin Islands\" &&\r\n                d.area_title !== \"Puerto Rico\" &&\r\n                d.area_title !== \"Guam\"\r\n        );\r\n        const dataMajorOccupations = dataNoTerritories.filter(\r\n            d => d.o_group === \"major\"\r\n\t\t);\r\n\t\treturn dataMajorOccupations;\r\n\t};\r\n\r\n\tconst cleanRPPData = async data => {\r\n\t\treturn d3.text(data)\r\n\t\t\t.then(res => {\r\n\t\t\t\treturn d3.csvParse(res.split(\"\\n\").slice(4).join(\"\\n\"), d => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tGeoFips: +d.GeoFips,\r\n\t\t\t\t\t\tGeoName: d.GeoName,\r\n\t\t\t\t\t\tLineCode: +d.LineCode,\r\n\t\t\t\t\t\tDescription: d.Description,\r\n\t\t\t\t\t\t\"2018\": +d[\"2018\"],\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\treturn res.filter(d => d.Description === \"RPPs: All items\");\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst transformData = async (data, dataRPP) => {\r\n\t\tconst rpp = await cleanRPPData(dataRPP);\r\n\t\tconst majorOcc = await cleanData(data);\r\n\r\n\t\tlet revisedData = [];\r\n\r\n\t\tmajorOcc.forEach(row => {\r\n\t\t\tconst stateName = row.area_title;\r\n\t\t\tconst realSalary = row.a_median;\r\n\t\t\tconst stateRPP = rpp.filter(d => d.GeoName === stateName)[0][\"2018\"];\r\n\r\n\t\t\trow[\"RPP_a_median\"] = (realSalary / stateRPP * 100);\r\n\t\t\trevisedData.push(row);\r\n\t\t});\r\n\t\treturn revisedData;\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tlet mounted = true;\r\n\t\ttransformData(dataRaw, dataRPP)\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (mounted) {\r\n\t\t\t\t\tsetData(res)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\r\n\t\treturn () => {\r\n\t\t\tmounted = false;\r\n\t\t};\r\n\t}, [dataRaw]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSelected(filteredSelection);\r\n\t}, [filteredSelection]);\r\n\r\n    return (\r\n        <section>\r\n\t\t\t<SelectContext.Provider value={{ selected, setSelected }}>\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<Navbar handleDrawer={handleDrawer}>\r\n\t\t\t\t\t\t{data \r\n\t\t\t\t\t\t&& <>\r\n\t\t\t\t\t\t\t\t<ChartControl title=\"Chart Parameters\">\r\n\t\t\t\t\t\t\t\t\t<ChartControlRadio\r\n\t\t\t\t\t\t\t\t\t\tariaLabel=\"salary-type\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"salary-type\"\r\n\t\t\t\t\t\t\t\t\t\tparamFields={chartParams.color.paramFields}\r\n\t\t\t\t\t\t\t\t\t\tparameter={chartParams.color}\r\n\t\t\t\t\t\t\t\t\t\tchartParams={chartParams}\r\n\t\t\t\t\t\t\t\t\t\tsetChartParams={setChartParams}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<ChartControlSelector />\r\n\t\t\t\t\t\t\t\t</ChartControl>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Navbar>\r\n\t\t\t\t</header>\r\n\t\t\t\t{/* <SideDrawer \r\n\t\t\t\t\tmobileOpen={mobileOpen} \r\n\t\t\t\t\thandleDrawer={handleDrawer}\r\n\t\t\t\t\tdrawerWidth={drawerWidth}\r\n\t\t\t\t\tclassName={classes.sideDrawer}\t\t\r\n\t\t\t\t>\r\n\t\t\t\t\t<FilterInterface \r\n\t\t\t\t\t\tfilterList={filterList}\r\n\t\t\t\t\t\tfilters={filters}\r\n\t\t\t\t\t\tsetFilters={setFilters}\r\n\t\t\t\t\t\tfilterSettings={filterSettings}\r\n\t\t\t\t\t\tsetFilterSettings={setFilterSettings}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\tdrawerSection: classes.drawerSection,\r\n\t\t\t\t\t\t\tsectionTitle: classes.sectionTitle,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Selections \r\n\t\t\t\t\t\tsetFilters={setFilters}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\tdrawerSection: classes.drawerSection,\r\n\t\t\t\t\t\t\tsectionTitle: classes.sectionTitle\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t</SideDrawer> */}\r\n\t\t\t\t\t{data && <ChartBLS data={data} chartParams={chartParams} />}\r\n\t\t\t\t<AboutBLS />\r\n\t\t\t</SelectContext.Provider>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport { AppBLS };\r\n","import React, { useState, useEffect } from 'react';\r\nimport * as d3 from \"d3\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// components\r\nimport { ChartTemplate, Bars, Labels } from \"../Components/chart\";\r\n\r\n// styles\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst defaultDimensions = {\r\n\twidth: window.innerWidth * 0.8,\r\n\theight: window.innerHeight * 0.6\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\trootContainer: {\r\n\t\tposition: \"relative\",\r\n\t\twidth: \"100%\",\r\n\t\theight: \"100%\",\r\n\t},\r\n\tchartContainer: {\r\n\t\tpaddingTop: theme.spacing(6)\r\n\t}\r\n}));\r\n\r\nconst ChartRPI = (props) => {\r\n\tconst { data, chartParams } = props;\r\n\tconst [dimensions, setDimensions] = useState(defaultDimensions);\r\n\tconst [scales, setScales] = useState(null);\r\n\r\n\tconst { x, y, color } = chartParams;\r\n\tconst { width, height } = dimensions;\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst xScale = d3.scaleBand()\r\n\t\t\t.domain(data.map(d => d[x.param]))\t\r\n\t\t\t.range([0, width])\r\n\t\t\t.padding(0.1);\r\n\t\t\t\t\r\n\t\tconst yScale = d3.scaleLinear()\r\n\t\t\t.domain([0, d3.max(data, d => d[y.param])])\r\n\t\t\t.range([height, 0]);\r\n\r\n\t\tsetScales({\r\n\t\t\txScale,\r\n\t\t\tyScale,\r\n\t\t});\r\n\t}, [data]);\r\n\r\n\treturn (\r\n\t\t<section className={classes.rootContainer}>\r\n\t\t\t<Grid className={classes.chartContainer}>\r\n\t\t\t\t{scales\r\n\t\t\t\t\t&& <ChartTemplate\r\n\t\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\t\tchartParams={chartParams}\r\n\t\t\t\t\t\t\tdimensions={dimensions}\r\n\t\t\t\t\t\t\tscales={scales}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Bars \r\n\t\t\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\t\t\tchartParams={chartParams}\r\n\t\t\t\t\t\t\t\tdimensions={dimensions}\r\n\t\t\t\t\t\t\t\tscales={scales}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Labels \r\n\t\t\t\t\t\t\t\tchartParams={chartParams}\r\n\t\t\t\t\t\t\t\tdimensions={dimensions}\r\n\t\t\t\t\t\t\t\tlabels={{\r\n\t\t\t\t\t\t\t\t\txLabel: \"State\",\r\n\t\t\t\t\t\t\t\t\tyLabel: \"Real Per Capita Income (USD 2018)\"\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ChartTemplate>\r\n\t\t\t\t}\r\n\t\t\t</Grid>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport { ChartRPI };\r\n\r\nChartRPI.propTypes = { \r\n\tdata: PropTypes.arrayOf(PropTypes.object).isRequired, \r\n\tchartParams: PropTypes.object.isRequired \r\n};","import React, { useState, useEffect } from 'react';\r\nimport * as d3 from \"d3\";\r\n\r\n// params\r\nimport { params } from \"../params/params\";\r\nimport stateInfo from \"../params/stateInfo.json\";\r\n\r\n// components\r\nimport { Navbar, SideDrawer } from \"../Components/nav\";\r\nimport { ChartRPI } from \"./ChartRPI\";\r\n\r\n// context\r\nimport { SelectContext } from \"../context/SelectContext\";\r\n\r\n// data\r\nimport dataPriceParity from \"../data/bea_regional_price_parities_2018.csv\";\r\nimport dataRealPersonalIncome from \"../data/bea_real_personal_income_2018.csv\";\r\n\r\n// styles\r\nimport { Toolbar } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst AppRPI = () => {\r\n\tconst [data, setData] = useState(null);\r\n\tconst [chartParams, setChartParams] = useState(params.appRPI.chart);\r\n\tconst [selected, setSelected] = useState([]);\r\n\tconst [mobileOpen, setMobileOpen] = useState(false);\r\n\r\n\tconst handleDrawer = () => {\r\n\t\tsetMobileOpen(!mobileOpen);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\td3.text(dataRealPersonalIncome)\r\n\t\t\t.then(res => {\r\n\t\t\t\treturn d3.csvParse(res.split(\"\\n\").slice(4).join(\"\\n\"), d => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tGeoFips: +d.GeoFips,\r\n\t\t\t\t\t\tGeoName: d.GeoName,\r\n\t\t\t\t\t\tLineCode: +d.LineCode,\r\n\t\t\t\t\t\tDescription: d.Description,\r\n\t\t\t\t\t\t\"2018\": +d[\"2018\"],\r\n\t\t\t\t\t}\r\n\t\t\t\t})\t\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tconst dataOnlyPerCapita = res.filter(\r\n\t\t\t\t\trow => \r\n\t\t\t\t\t\trow.Description !== \"Real personal income (millions of chained (2012) dollars)\"\r\n\t\t\t\t\t\t&& row.GeoName.length > 0\r\n\t\t\t\t)\t\r\n\t\t\t\tsetData(dataOnlyPerCapita);\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<section>\r\n\t\t\t<header>\r\n\t\t\t\t<Navbar handleDrawer={handleDrawer} />\r\n\t\t\t</header>\r\n\t\t\t<SelectContext.Provider value={{selected, setSelected}}>\r\n\t\t\t\t{data\r\n\t\t\t\t\t&& <ChartRPI\r\n\t\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\t\tchartParams={chartParams}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t</SelectContext.Provider>\r\n\t\t</section>\r\n\t)\r\n};\r\n\r\nexport { AppRPI };\r\n","import React from 'react';\r\n\r\n// components\r\nimport { AppButton, Navbar } from \"../Components/nav\";\r\n\r\n// styles \r\nimport { Grid, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\trootSection: {\r\n\t},\r\n\theader: {\r\n\t\tmarginBottom: theme.spacing(4),\r\n\t},\r\n\tcardContainer: {\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n\tcard: {\r\n\t\tmargin: theme.spacing(2)\r\n\t}\r\n}));\r\n\r\nconst Home = () => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<section className={classes.rootSection}>\r\n\t\t\t<header className={classes.header}>\r\n\t\t\t\t<Typography variant=\"h3\">Consumer Price Index</Typography>\r\n\t\t\t</header>\r\n\t\t\t<Grid container className={classes.cardContainer}>\r\n\t\t\t\t<AppButton className={classes.card} href=\"/cpi-app\">\r\n\t\t\t\t\t<Typography variant=\"h5\">CPI Chart</Typography>\r\n\t\t\t\t\t<Typography variant=\"subtitle2\">State comparison of Consumer Price Index</Typography>\r\n\t\t\t\t</AppButton>\r\n\t\t\t\t<AppButton className={classes.card} href=\"/bls-app\">\r\n\t\t\t\t\t<Typography variant=\"h5\">BLS Chart</Typography>\r\n\t\t\t\t\t<Typography variant=\"subtitle2\">State comparison of wages</Typography>\r\n\t\t\t\t</AppButton>\r\n\t\t\t\t<AppButton className={classes.card} href=\"/rpi-app\">\r\n\t\t\t\t\t<Typography variant=\"h5\">RPI Chart</Typography>\r\n\t\t\t\t\t<Typography variant=\"subtitle2\">State comaprison of Real Personal Income</Typography>\r\n\t\t\t\t</AppButton>\r\n\t\t\t</Grid>\r\n\t\t</section>\r\n\t)\r\n}\r\n\r\nexport { Home };","import { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\nconst palette1 = [\r\n\t\"#492540\",\r\n\t\"#c03546\",\r\n\t\"#f26d5b\",\r\n\t\"#f6ea8c\"\r\n];\r\n\r\nconst palette2 = [\r\n\t\"#085f63\",\r\n\t\"#49beb7\",\r\n\t\"#facf5a\",\r\n\t\"#ff5959\",\r\n\t\"#364f6b\",\r\n\t\"#47688d\"\r\n];\r\n\r\nconst lightPalette = {\r\n\ttype: \"light\",\r\n\tprimary: {\r\n\t\tmain: \"\",\r\n\t},\r\n\tsecondary: {\r\n\t\tmain: \"\",\r\n\t},\r\n\tbackground: {\r\n\t\tdefault: \"#f6ea8c\",\r\n\t}\r\n}\r\nconst darkPalette = {\r\n\ttype: \"dark\",\r\n\tprimary: {\r\n\t\tmain: \"#49beb7\",\r\n\t\tcontrastText: \"#085f63\",\r\n\t},\r\n\tsecondary: {\r\n\t\tmain: \"#ff5959\",\r\n\t},\r\n\tbackground: {\r\n\t\tdefault: \"#364f6b\",\r\n\t\tlight: \"#47688d\",\r\n\t\tdark: \"#253649\"\r\n\t},\r\n\ttext: {\r\n\t\tprimary: \"#fff\"\r\n\t}\r\n}\r\n\r\nconst theme = createMuiTheme({\r\n\tpalette: {...darkPalette},\r\n\ttypography: {\r\n\t\tfontFamily: [\r\n\t\t\t\"source_sans_proregular\",\r\n\t\t\t\"Roboto\",\r\n\t\t\t\"Helvetica\",\r\n\t\t\t\"Arial\",\r\n\t\t\t\"sans-serif\"\r\n\t\t].join(\",\"),\r\n\t},\r\n\toverrides: {\r\n\t\tMuiMenu: {\r\n\t\t\tpaper: {\r\n\t\t\t\tbackgroundColor: darkPalette.background.light,\r\n\t\t\t}\r\n\t\t},\r\n\t\tMuiButton: {\r\n\t\t\troot: {\r\n\t\t\t\ttransition: \"all 0.4s\",\r\n\t\t\t\t\"&:hover\": {\r\n\t\t\t\t\tbackgroundColor: \"transparent\",\r\n\t\t\t\t\tcolor: darkPalette.primary.main,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tMuiIconButton: {\r\n\t\t\troot: {\r\n\t\t\t\ttransition: \"all 0.4s\",\r\n\t\t\t\t\"&:hover\": {\r\n\t\t\t\t\tbackgroundColor: \"transparent\",\r\n\t\t\t\t\topacity: .7\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nexport { theme };","import React from \"react\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\n\n// components\nimport { AppCPI } from \"./appCPI/AppCPI\";\nimport { AppBLS } from \"./appBLS/AppBLS\";\nimport { AppRPI } from \"./appRPI/AppRPI\";\nimport { Home } from \"./pages/Home\";\n\n// styles\nimport { Container, ThemeProvider, CssBaseline } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { theme } from \"./styles/theme\";\n\nconst useStyles = makeStyles(theme => ({\n    rootGrid: {\n        paddingLeft: theme.spacing(4),\n\t\tpaddingRight: theme.spacing(4),\n\t\tmaxWidth: \"none\"\n    },\n}));\n\nfunction App() {\n\tconst classes = useStyles();\n\n    return (\n\t\t<>\n\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t<CssBaseline />\n\t\t\t\t<Container className={classes.rootGrid}>\n\t\t\t\t\t<Router>\n\t\t\t\t\t\t<Route exact path=\"/\" component={() => <AppBLS />}/>\n\t\t\t\t\t\t<Route path=\"/cpi-app\" component={() => <AppCPI />}/>\n\t\t\t\t\t\t<Route path=\"/bls-app\" component={() => <AppBLS />}/>\n\t\t\t\t\t\t<Route path=\"/rpi-app\" component={() => <AppRPI />}/>\n\t\t\t\t\t</Router>\n\t\t\t\t</Container>\n\t\t\t</ThemeProvider>\n\t\t</>\n    );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/bea_regional_price_parities_2018.247183a6.csv\";"],"sourceRoot":""}